{"info":{"_postman_id":"79803acc-91d1-4534-9687-501ef9c1c443","name":"MTN MoMo Open API (v0.9.6)","description":"Power your apps with our MTN MoMo Open API\n\nThe Open API is a JSON REST API that is used by Partner systems to access services in the Wallet platform. \nThe Open API exposes services that are used by e.g. online merchants for managing payments and other financial services.\n\nDevelopers are issued a Primary Key and Secondary Key for every product. Both primary and secondary Subscription key provides access to the API. Without one of them a developer cannot access any of the APIs. Subscriptions are stored under the user profile and never expire.\n\nValues for the target environment (X-Target-Environment)\n\nMTN Uganda= mtnuganda \nMTN Ghana= mtnghana \nMTN Ivory Coast= mtnivorycoast \nMTN Zambia= mtnzambia \nMTN Cameroon= mtncameroon \nMTN Benin= mtnbenin \nMTN Congo= mtncongo \nMTN Swaziland= mtnswaziland \n\nAvailable currencies:\nMTN Uganda= UGX \nMTN Ghana= GHS \nMTN Ivory Coast= XOF \nMTN Zambia= ZMW\nMTN Cameroon= XAF \nMTN Benin= CFA \nMTN Congo= CDF \nMTN Swaziland= SZL\n\nSome demographical data on countries where MTP MoMoPay is actively used:\n\nMTN Ghana= 23.9 million subscribers with a total pupulation of 31.77 million (2018/2019/2020)\nMTN Uganda= 12.6 million subscribers with a total pupulation of 42.72 million (2018/2019)\nMTN Ivory Coast= 12.0 million subscribers with a total pupulation of 26.37 million (2018/2019/2020)\nMTN Zambia= 6 million subscribers with a total pupulation of 17.35 million (2018/2019/2020) \nMTN Cameroon= 8 million subscribers with a total pupulation of 26.54 million (2018/2019/2020)  \nMTN Benin= 6 million subscribers with a total pupulation of 11.5 million (2018/2019/2020)  \nMTN Congo= 2.6 million subscribers with a total pupulation of 84 million (2018/2019/2020)   \nMTN Swaziland= >1 million subscribers with a total pupulation of 1.2 million (2018/2019/2020)  \nMTN Nigeria= 64.3 million subscribers with a total pupulation of 207.22 million (2018/2019/2020)\n\nKnown Partner Portals:\nMTN Swaziland/Eswatini - https://partner.mtn.co.sz/partner/\nMTN Uganda - https://mobilemoneyreadonly.mtn.co.ug/partner/\nMTN Ghana - https://partner.mobilemoney.mtn.com.gh/partner/\nMTN Cameroon - https://momo.mtncameroon.net/partner/\n\nHow to signup for Mobile Money\nMTN Uganda - https://www.mtn.co.ug/mtn-momo/register/\n\nKnown production Hosts:\n\nproxy.momoapi.mtn.com\nericssonbasicapi1.azure-api.net\nericssonbasicapi2.azure-api.net\n\nAPI Callbacks\nSome MoMoPay API requests allow to set the callback URL, for example Collection/requesttopay, allows to send a URL in the header which will be called once the status of the payment changes. At the moment of writing there is no documention on what is sent back, however thanks to the community support we have got an sample data, you can see it below:\n\n{\n    \"financialTransactionId\": \"7950782885\",\n    \"externalId\": \"2019092712011693486\",\n    \"amount\": \"1000\",\n    \"currency\": \"<ISO4217 Currency code>\",\n    \"payer\": {\n        \"partyTypeId\": \"MSISDN\",\n        \"partyId: \"2335XXXXXXXXXX\"\n    }\n    \"payeeNote\": \"my note\",\n    \"status\": \"SUCCESSFUL\"\n}\n\nSome known field values:\npartyTypeId: MSISDN | EMAIL | PARTY_CODE\nstatus: SUCCESSFUL | PENDING | FAILED\nreason: INTERNAL_PROCESSING_ERROR (often happens when the balance of the MoMo wallet is lower than the amount requested)\n\nSome Live numbers for testing:\n\n256772123456 - Uganda\n26878721737 - Swaziland/Eswatini\n26876060239 - Swaziland/Eswatini\n26876060228 - Swaziland/Eswatini\n237679465319 - Cameroon\n233246824458 - Ghana\n\nSome known API errors:\n\n{\"statusCode\": 403, \"message\": \"Out of call volume quota. Quota will be replenished in 13:52:42.\" }\n\n","schema":"https://schema.getpostman.com/json/collection/v2.1.0/collection.json"},"item":[{"name":"Sandbox User Provisioning","item":[{"name":"apiuser | Collection","event":[{"listen":"prerequest","script":{"exec":["var _0x3516=['86751MtiAwK','Found\\x20UUID\\x20v4\\x20','201634FGzDAS','We\\x20failed,\\x20please\\x20contact\\x20support\\x20at\\x20info@clickon.ch','application/json','log','2mAPgKS','json','9OuAxC3PUGOf2F6uVe6v','Got\\x20UUID\\x20v4\\x20','XCe7wreViOLL7hfEQQRZ','undefined','194456obqOEc','429OAMSJr','POST','13HcmBSg','119173HQzmfh','length','message','44368SftzoV','742762opLHgJ','611Nkxnue','X-Reference-Id','set','globals'];var _0x4a8d=function(_0x40d4ce,_0xa7b824){_0x40d4ce=_0x40d4ce-0xeb;var _0x351668=_0x3516[_0x40d4ce];return _0x351668;};var _0x47c21b=_0x4a8d;(function(_0x85d412,_0x473fd0){var _0x2da096=_0x4a8d;while(!![]){try{var _0x359d80=-parseInt(_0x2da096(0xfe))*parseInt(_0x2da096(0xf6))+parseInt(_0x2da096(0x102))+parseInt(_0x2da096(0xf9))+-parseInt(_0x2da096(0xfd))+-parseInt(_0x2da096(0xf8))*-parseInt(_0x2da096(0xfc))+parseInt(_0x2da096(0xeb))*parseInt(_0x2da096(0xef))+parseInt(_0x2da096(0xf5));if(_0x359d80===_0x473fd0)break;else _0x85d412['push'](_0x85d412['shift']());}catch(_0x21717c){_0x85d412['push'](_0x85d412['shift']());}}}(_0x3516,0x5baff));var xref=pm[_0x47c21b(0x101)]['get'](_0x47c21b(0xff));typeof xref==='undefined'||xref[_0x47c21b(0xfa)]!==0x24?pm['sendRequest']({'url':'https://momopay.clickon.ch/getUserId','method':_0x47c21b(0xf7),'header':{'Content-Type':_0x47c21b(0xed),'Postman-Key':_0x47c21b(0xf1),'Version':_0x47c21b(0xf3)},'body':{}},function(_0x1b315b,_0xc76722){var _0x15435a=_0x47c21b;if(_0x1b315b)throw new Error(_0x15435a(0xec));else{if(typeof _0xc76722[_0x15435a(0xf0)]()['userId']!==_0x15435a(0xf4)){var _0x180849=_0xc76722[_0x15435a(0xf0)]()['userId'];console[_0x15435a(0xee)](_0x15435a(0xf2)+_0x180849),pm[_0x15435a(0x101)][_0x15435a(0x100)]('X-Reference-Id',_0x180849);}else throw new Error(_0xc76722[_0x15435a(0xf0)]()[_0x15435a(0xfb)]);}}):console[_0x47c21b(0xee)](_0x47c21b(0x103)+xref);"],"type":"text/javascript"}},{"listen":"test","script":{"exec":["var _0x29b6=['status','1McNnHb','23ptAinC','1800348AhIyfi','417077LgAGsi','881916bWESUr','have','2uJZDCq','response','API\\x20User\\x20request\\x20is\\x20valid','4889GnBXlm','979841PQdkfz','82769ZQdMRw','712550amMONc'];var _0x6f2f=function(_0x4fd13d,_0x5e8ec6){_0x4fd13d=_0x4fd13d-0xf8;var _0x29b660=_0x29b6[_0x4fd13d];return _0x29b660;};var _0x1399bb=_0x6f2f;(function(_0x4fae61,_0x184f32){var _0x53cdc3=_0x6f2f;while(!![]){try{var _0x7d79bc=parseInt(_0x53cdc3(0xf9))*-parseInt(_0x53cdc3(0x103))+parseInt(_0x53cdc3(0x104))*-parseInt(_0x53cdc3(0xff))+-parseInt(_0x53cdc3(0x105))+parseInt(_0x53cdc3(0x102))*parseInt(_0x53cdc3(0xfa))+parseInt(_0x53cdc3(0xfd))+-parseInt(_0x53cdc3(0xfc))+parseInt(_0x53cdc3(0xfb));if(_0x7d79bc===_0x184f32)break;else _0x4fae61['push'](_0x4fae61['shift']());}catch(_0x36839c){_0x4fae61['push'](_0x4fae61['shift']());}}}(_0x29b6,0x7ee19),pm['test'](_0x1399bb(0x101),function(){var _0x3ae665=_0x1399bb;pm[_0x3ae665(0x100)]['to'][_0x3ae665(0xfe)][_0x3ae665(0xf8)](0xc9);}));"],"type":"text/javascript"}}],"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"application/json"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Collection}}"},{"key":"X-Reference-Id","type":"text","value":"{{X-Reference-Id}}"}],"body":{"mode":"raw","raw":"{\n  \"providerCallbackHost\": \"callbacks-do-not-work-in-sandbox.com\"\n}"},"url":{"raw":"https://sandbox.momodeveloper.mtn.com/v1_0/apiuser","protocol":"https","host":["sandbox","momodeveloper","mtn","com"],"path":["v1_0","apiuser"]},"description":"This is the first API call you must do in the Sandbox.\n\nIt is used to create an API user in the sandbox target environment.\n\nThis request will require a valid Ocp-Apim-Subscription-Key Found in your Profile on https://momodeveloper.mtn.com\n\nIt also requites a valid X-Reference-Id aka. recource ID for the API user to be created. UUID version 4."},"response":[]},{"name":"apiuser | Disbursements","event":[{"listen":"prerequest","script":{"exec":["var _0x58ab=['224843ozMMQZ','globals','undefined','https://momopay.clickon.ch/getUserId','345571XSZHym','userId','827386lqIVVP','message','908491UtcDAF','get','4DvjqUK','9OuAxC3PUGOf2F6uVe6v','19NtXSks','3gtMZka','7RTcBCc','XCe7wreViOLL7hfEQQRZ','json','length','X-Reference-Id','POST','88420UKLiWs','861682GIxize','48658XUteij','Got\\x20UUID\\x20v4\\x20','sendRequest','Found\\x20UUID\\x20v4\\x20'];var _0x3ef9=function(_0x1b08cd,_0x4f3dd6){_0x1b08cd=_0x1b08cd-0xef;var _0x58ab0d=_0x58ab[_0x1b08cd];return _0x58ab0d;};var _0x4d5842=_0x3ef9;(function(_0x28ffb0,_0x44b840){var _0x1c8ad8=_0x3ef9;while(!![]){try{var _0x18e2d3=parseInt(_0x1c8ad8(0x107))+parseInt(_0x1c8ad8(0x101))*-parseInt(_0x1c8ad8(0xf1))+parseInt(_0x1c8ad8(0xf3))*parseInt(_0x1c8ad8(0xfd))+parseInt(_0x1c8ad8(0xfc))+-parseInt(_0x1c8ad8(0xf4))*-parseInt(_0x1c8ad8(0xfb))+parseInt(_0x1c8ad8(0xef))+-parseInt(_0x1c8ad8(0x105))*parseInt(_0x1c8ad8(0xf5));if(_0x18e2d3===_0x44b840)break;else _0x28ffb0['push'](_0x28ffb0['shift']());}catch(_0x30e016){_0x28ffb0['push'](_0x28ffb0['shift']());}}}(_0x58ab,0x727d8));var xref=pm[_0x4d5842(0x102)][_0x4d5842(0xf0)]('X-Reference-Id');typeof xref===_0x4d5842(0x103)||xref[_0x4d5842(0xf8)]!==0x24?pm[_0x4d5842(0xff)]({'url':_0x4d5842(0x104),'method':_0x4d5842(0xfa),'header':{'Content-Type':'application/json','Postman-Key':_0x4d5842(0xf2),'Version':_0x4d5842(0xf6)},'body':{}},function(_0x1550eb,_0x59ddfd){var _0x2e0b8e=_0x4d5842;if(_0x1550eb)throw new Error('We\\x20failed,\\x20please\\x20contact\\x20support\\x20at\\x20info@clickon.ch');else{if(typeof _0x59ddfd[_0x2e0b8e(0xf7)]()['userId']!==_0x2e0b8e(0x103)){var _0x152806=_0x59ddfd[_0x2e0b8e(0xf7)]()[_0x2e0b8e(0x106)];console['log'](_0x2e0b8e(0xfe)+_0x152806),pm['globals']['set'](_0x2e0b8e(0xf9),_0x152806);}else throw new Error(_0x59ddfd[_0x2e0b8e(0xf7)]()[_0x2e0b8e(0x108)]);}}):console['log'](_0x4d5842(0x100)+xref);"],"type":"text/javascript"}},{"listen":"test","script":{"exec":["var _0x4573=['21179cXZsGf','1658aIspna','1puknTx','447295xmcxJt','248054gSZUHe','19fmeLch','1809159YpVorJ','have','test','902166TSRtdR','response','973033rBkgRS','API\\x20User\\x20request\\x20is\\x20valid','status','362JrOEIZ'];var _0x1030=function(_0x4e4520,_0x2f6fbc){_0x4e4520=_0x4e4520-0x6d;var _0x457334=_0x4573[_0x4e4520];return _0x457334;};var _0x53c055=_0x1030;(function(_0x2f696e,_0x4ee0a8){var _0x8455de=_0x1030;while(!![]){try{var _0x2cc91d=parseInt(_0x8455de(0x76))+parseInt(_0x8455de(0x7a))*parseInt(_0x8455de(0x70))+parseInt(_0x8455de(0x74))+parseInt(_0x8455de(0x7b))*-parseInt(_0x8455de(0x79))+-parseInt(_0x8455de(0x6f))*-parseInt(_0x8455de(0x6d))+parseInt(_0x8455de(0x6e))+-parseInt(_0x8455de(0x71));if(_0x2cc91d===_0x4ee0a8)break;else _0x2f696e['push'](_0x2f696e['shift']());}catch(_0x4c458b){_0x2f696e['push'](_0x2f696e['shift']());}}}(_0x4573,0x8998a),pm[_0x53c055(0x73)](_0x53c055(0x77),function(){var _0x181c52=_0x53c055;pm[_0x181c52(0x75)]['to'][_0x181c52(0x72)][_0x181c52(0x78)](0xc9);}));"],"type":"text/javascript"}}],"request":{"method":"POST","header":[{"key":"Content-Type","type":"text","value":"application/json"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Disbursements}}"},{"key":"X-Reference-Id","type":"text","value":"{{X-Reference-Id}}"}],"body":{"mode":"raw","raw":"{\n  \"providerCallbackHost\": \"https://callback-will-not-work-in-the-sandbox.com\"\n}"},"url":{"raw":"https://sandbox.momodeveloper.mtn.com/v1_0/apiuser","protocol":"https","host":["sandbox","momodeveloper","mtn","com"],"path":["v1_0","apiuser"]},"description":"This is the first API call you must do in the Sandbox.\n\nIt is used to create an API user in the sandbox target environment.\n\nThis request will require a valid Ocp-Apim-Subscription-Key Found in your Profile on https://momodeveloper.mtn.com\n\nIt also requites a valid X-Reference-Id aka. recource ID for the API user to be created. UUID version 4."},"response":[]},{"name":"apiuser/{X-Reference-Id} | Collection","request":{"method":"GET","header":[{"key":"Ocp-Apim-Subscription-Key","value":"{{Ocp-Apim-Subscription-Key-Collection}}","type":"text"}],"url":{"raw":"https://sandbox.momodeveloper.mtn.com/v1_0/apiuser/{{X-Reference-Id}}","protocol":"https","host":["sandbox","momodeveloper","mtn","com"],"path":["v1_0","apiuser","{{X-Reference-Id}}"]},"description":"Used to get API user information.\n"},"response":[]},{"name":"apiuser/{X-Reference-Id} | Disbursements","request":{"method":"GET","header":[{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Disbursements}}"}],"url":{"raw":"https://sandbox.momodeveloper.mtn.com/v1_0/apiuser/{{X-Reference-Id}}","protocol":"https","host":["sandbox","momodeveloper","mtn","com"],"path":["v1_0","apiuser","{{X-Reference-Id}}"]},"description":"Used to get API user information.\n"},"response":[]},{"name":"apiuser/{X-Reference-Id}/apikey | Collection","event":[{"listen":"test","script":{"exec":["var _0x37db=['API\\x20key\\x20is\\x20valid','have','140426ZZDCch','2EqcCFi','421161NbCgOa','1iztxSj','response','status','Found\\x20API\\x20key:\\x20','Authorization','X-Reference-Id','json','930621tJbPiE','globals','string','243105NSYojz','Authorization:\\x20','602605KNWnJp','log','207862tlpRwj','14255ZrbDzI','test','apiKey','set','get'];var _0x25bb=function(_0x889a04,_0x3bab06){_0x889a04=_0x889a04-0xbe;var _0x37dbc0=_0x37db[_0x889a04];return _0x37dbc0;};var _0x5c7d82=_0x25bb;(function(_0xfefdc3,_0x2649d){var _0x32460d=_0x25bb;while(!![]){try{var _0x190c44=parseInt(_0x32460d(0xd6))*parseInt(_0x32460d(0xca))+parseInt(_0x32460d(0xc7))+-parseInt(_0x32460d(0xd4))+parseInt(_0x32460d(0xc9))+-parseInt(_0x32460d(0xc0))+-parseInt(_0x32460d(0xc8))*-parseInt(_0x32460d(0xbf))+-parseInt(_0x32460d(0xd1));if(_0x190c44===_0x2649d)break;else _0xfefdc3['push'](_0xfefdc3['shift']());}catch(_0x14a0d1){_0xfefdc3['push'](_0xfefdc3['shift']());}}}(_0x37db,0x5faff),pm[_0x5c7d82(0xc1)](_0x5c7d82(0xc5),function(){var _0xae1423=_0x5c7d82;pm[_0xae1423(0xcb)]['to'][_0xae1423(0xc6)][_0xae1423(0xcc)](0xc9);var _0x4548b9=pm[_0xae1423(0xcb)][_0xae1423(0xd0)]();pm['expect'](_0x4548b9[_0xae1423(0xc2)])['to']['be']['a'](_0xae1423(0xd3));if(typeof _0x4548b9[_0xae1423(0xc2)]!=='undefined'){console[_0xae1423(0xbe)](_0xae1423(0xcd)+_0x4548b9[_0xae1423(0xc2)]),pm['globals'][_0xae1423(0xc3)](_0xae1423(0xc2),_0x4548b9['apiKey']);var _0x3c3b83=pm[_0xae1423(0xd2)][_0xae1423(0xc4)](_0xae1423(0xcf)),_0xa0de6d=btoa(_0x3c3b83+':'+_0x4548b9[_0xae1423(0xc2)]);console[_0xae1423(0xbe)](_0xae1423(0xd5)+_0xa0de6d),pm[_0xae1423(0xd2)][_0xae1423(0xc3)](_0xae1423(0xce),_0xa0de6d);}}));"],"type":"text/javascript"}}],"request":{"method":"POST","header":[{"key":"Ocp-Apim-Subscription-Key","value":"{{Ocp-Apim-Subscription-Key-Collection}}","type":"text"}],"body":{"mode":"raw","raw":""},"url":{"raw":"https://sandbox.momodeveloper.mtn.com/v1_0/apiuser/{{X-Reference-Id}}/apikey","protocol":"https","host":["sandbox","momodeveloper","mtn","com"],"path":["v1_0","apiuser","{{X-Reference-Id}}","apikey"]},"description":"Used to create an API key for an API user in the sandbox target environment.\n\n"},"response":[]},{"name":"apiuser/{X-Reference-Id}/apikey | Disbursements","event":[{"listen":"test","script":{"exec":["var _0x3eb7=['872349GSZIfq','string','json','1yQynum','undefined','23775rAgZdz','test','20AiEVlj','74gXMDIJ','apiKey','Found\\x20API\\x20key:\\x20','get','94783GROvwt','log','set','expect','globals','5631PjOhXR','390221UBdoaa','response','1azJTCG','267308ACUsEp','49QqjpzP','status','508662nsKcfr','Authorization:\\x20'];var _0x4367=function(_0x8714a0,_0x3d9296){_0x8714a0=_0x8714a0-0xaa;var _0x3eb787=_0x3eb7[_0x8714a0];return _0x3eb787;};var _0xac5555=_0x4367;(function(_0xdb7cc9,_0x315990){var _0x1f7e01=_0x4367;while(!![]){try{var _0x16f5c1=-parseInt(_0x1f7e01(0xaf))*parseInt(_0x1f7e01(0xb8))+-parseInt(_0x1f7e01(0xbc))+parseInt(_0x1f7e01(0xbd))*parseInt(_0x1f7e01(0xac))+-parseInt(_0x1f7e01(0xaa))*parseInt(_0x1f7e01(0xc1))+-parseInt(_0x1f7e01(0xbf))+-parseInt(_0x1f7e01(0xb9))*parseInt(_0x1f7e01(0xbb))+-parseInt(_0x1f7e01(0xb3))*-parseInt(_0x1f7e01(0xae));if(_0x16f5c1===_0x315990)break;else _0xdb7cc9['push'](_0xdb7cc9['shift']());}catch(_0x2d54ef){_0xdb7cc9['push'](_0xdb7cc9['shift']());}}}(_0x3eb7,0x93cd9),pm[_0xac5555(0xad)]('API\\x20key\\x20is\\x20valid',function(){var _0xadb5a=_0xac5555;pm[_0xadb5a(0xba)]['to']['have'][_0xadb5a(0xbe)](0xc9);var _0x130d95=pm['response'][_0xadb5a(0xc3)]();pm[_0xadb5a(0xb6)](_0x130d95[_0xadb5a(0xb0)])['to']['be']['a'](_0xadb5a(0xc2));if(typeof _0x130d95[_0xadb5a(0xb0)]!==_0xadb5a(0xab)){console[_0xadb5a(0xb4)](_0xadb5a(0xb1)+_0x130d95[_0xadb5a(0xb0)]),pm['globals'][_0xadb5a(0xb5)](_0xadb5a(0xb0),_0x130d95[_0xadb5a(0xb0)]);var _0x1d72ea=pm[_0xadb5a(0xb7)][_0xadb5a(0xb2)]('X-Reference-Id'),_0x49f304=btoa(_0x1d72ea+':'+_0x130d95[_0xadb5a(0xb0)]);console[_0xadb5a(0xb4)](_0xadb5a(0xc0)+_0x49f304),pm[_0xadb5a(0xb7)][_0xadb5a(0xb5)]('Authorization',_0x49f304);}}));"],"type":"text/javascript"}}],"request":{"method":"POST","header":[{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Disbursements}}"}],"body":{"mode":"raw","raw":""},"url":{"raw":"https://sandbox.momodeveloper.mtn.com/v1_0/apiuser/{{X-Reference-Id}}/apikey","protocol":"https","host":["sandbox","momodeveloper","mtn","com"],"path":["v1_0","apiuser","{{X-Reference-Id}}","apikey"]},"description":"Used to create an API key for an API user in the sandbox target environment.\n\n"},"response":[]}],"description":"Sandbox Provisioning API used to test your product in the Sandbox. Know limitation:\n\n1. Callbacks are not working in the Sandbox\n2. Sandbox cannot send real request for money (USSD Push)","event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":[""]}},{"listen":"test","script":{"type":"text/javascript","exec":[""]}}]},{"name":"Collection","item":[{"name":"token","event":[{"listen":"test","script":{"exec":["var _0x4f82=['455pfuXAv','encode','push','string','log','10vhQgtx','environment','647408sPpCCF','X-Target-Environment','join','751187HRxMuN','collection','1FpcyOP','26927niHTJr','170366dnBSqC','9OuAxC3PUGOf2F6uVe6v','access_token','undefined','POST','length','slice','2779327kmRccm','1559ghDesh','have','API\\x20Token\\x20is\\x20valid','1QDXLny','Live-Api-User-Collection','Live-Api-Key-Collection','json','get','1058551evQHth','https://momopay.clickon.ch/setRequest','charCodeAt','fromCharCode','charAt','sandbox','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=','XCe7wreViOLL7hfEQQRZ','indexOf','response','test','sendRequest','map','status'];var _0x7345=function(_0x2877cd,_0x4f7dd2){_0x2877cd=_0x2877cd-0x102;var _0x4f822f=_0x4f82[_0x2877cd];return _0x4f822f;};var _0x36acd9=_0x7345;(function(_0x54d7a5,_0x3cac78){var _0x3b410b=_0x7345;while(!![]){try{var _0x5e6c24=parseInt(_0x3b410b(0x116))*parseInt(_0x3b410b(0x12c))+parseInt(_0x3b410b(0x10d))*-parseInt(_0x3b410b(0x105))+parseInt(_0x3b410b(0x10c))*-parseInt(_0x3b410b(0x10a))+-parseInt(_0x3b410b(0x10e))+-parseInt(_0x3b410b(0x11e))+-parseInt(_0x3b410b(0x107))+parseInt(_0x3b410b(0x115))*parseInt(_0x3b410b(0x119));if(_0x5e6c24===_0x3cac78)break;else _0x54d7a5['push'](_0x54d7a5['shift']());}catch(_0x130ff1){_0x54d7a5['push'](_0x54d7a5['shift']());}}}(_0x4f82,0x90812));var XORCipher={'encode':function(_0x25d436,_0x1e09b4){return _0x1e09b4=xor_encrypt(_0x25d436,_0x1e09b4),b64_encode(_0x1e09b4);},'decode':function(_0x38af0b,_0x4cbaad){return _0x4cbaad=b64_decode(_0x4cbaad),xor_decrypt(_0x38af0b,_0x4cbaad);}},b64_table=_0x36acd9(0x124);function b64_encode(_0x4454a3){var _0x128c6d=_0x36acd9,_0x4be0dd,_0x46d7af,_0x4bc14a,_0x5ae80d,_0x4e3381,_0x37f8e2,_0xcffca4,_0x3faa61,_0x4bf123,_0x75e508=0x0,_0x3cbca8='';if(!_0x4454a3)return _0x4454a3;do{_0x4be0dd=_0x4454a3[_0x75e508++],_0x46d7af=_0x4454a3[_0x75e508++],_0x4bc14a=_0x4454a3[_0x75e508++],_0x3faa61=_0x4be0dd<<0x10|_0x46d7af<<0x8|_0x4bc14a,_0x5ae80d=_0x3faa61>>0x12&0x3f,_0x4e3381=_0x3faa61>>0xc&0x3f,_0x37f8e2=_0x3faa61>>0x6&0x3f,_0xcffca4=_0x3faa61&0x3f,_0x3cbca8+=b64_table[_0x128c6d(0x122)](_0x5ae80d)+b64_table[_0x128c6d(0x122)](_0x4e3381)+b64_table[_0x128c6d(0x122)](_0x37f8e2)+b64_table[_0x128c6d(0x122)](_0xcffca4);}while(_0x75e508<_0x4454a3['length']);return _0x4bf123=_0x4454a3[_0x128c6d(0x113)]%0x3,(_0x4bf123?_0x3cbca8[_0x128c6d(0x114)](0x0,_0x4bf123-0x3):_0x3cbca8)+'==='['slice'](_0x4bf123||0x3);}function b64_decode(_0x3411d5){var _0x47b250=_0x36acd9,_0x26ea05,_0x30098c,_0x4b66b4,_0x440dad,_0xd24499,_0x61698a,_0x817a12,_0x1d2636,_0x386b5a=0x0,_0x27b1b5=[];if(!_0x3411d5)return _0x3411d5;_0x3411d5+='';do{_0x440dad=b64_table[_0x47b250(0x126)](_0x3411d5[_0x47b250(0x122)](_0x386b5a++)),_0xd24499=b64_table[_0x47b250(0x126)](_0x3411d5[_0x47b250(0x122)](_0x386b5a++)),_0x61698a=b64_table[_0x47b250(0x126)](_0x3411d5['charAt'](_0x386b5a++)),_0x817a12=b64_table['indexOf'](_0x3411d5[_0x47b250(0x122)](_0x386b5a++)),_0x1d2636=_0x440dad<<0x12|_0xd24499<<0xc|_0x61698a<<0x6|_0x817a12,_0x26ea05=_0x1d2636>>0x10&0xff,_0x30098c=_0x1d2636>>0x8&0xff,_0x4b66b4=_0x1d2636&0xff,_0x27b1b5['push'](_0x26ea05),_0x61698a!==0x40&&(_0x27b1b5[_0x47b250(0x102)](_0x30098c),_0x817a12!==0x40&&_0x27b1b5[_0x47b250(0x102)](_0x4b66b4));}while(_0x386b5a<_0x3411d5[_0x47b250(0x113)]);return _0x27b1b5;}function keyCharAt(_0x30d499,_0x35b0a2){var _0x568bd9=_0x36acd9;return _0x30d499[_0x568bd9(0x120)](Math['floor'](_0x35b0a2%_0x30d499[_0x568bd9(0x113)]));}function xor_encrypt(_0x373344,_0x5e0d1e){var _0x5373c0=_0x36acd9;return _[_0x5373c0(0x12a)](_0x5e0d1e,function(_0x13bab7,_0x4f3008){var _0x48298a=_0x5373c0;return _0x13bab7[_0x48298a(0x120)](0x0)^keyCharAt(_0x373344,_0x4f3008);});}function xor_decrypt(_0x348ff6,_0x2e95ba){var _0x4c703a=_0x36acd9;return _[_0x4c703a(0x12a)](_0x2e95ba,function(_0x2b69e7,_0xce819a){var _0x42710f=_0x4c703a;return String[_0x42710f(0x121)](_0x2b69e7^keyCharAt(_0x348ff6,_0xce819a));})[_0x4c703a(0x109)]('');}pm[_0x36acd9(0x128)](_0x36acd9(0x118),function(){var _0x38e605=_0x36acd9;pm[_0x38e605(0x127)]['to'][_0x38e605(0x117)][_0x38e605(0x12b)](0xc8);var _0x1783c4=pm[_0x38e605(0x127)][_0x38e605(0x11c)]();pm['expect'](_0x1783c4[_0x38e605(0x110)])['to']['be']['a'](_0x38e605(0x103));if(typeof _0x1783c4[_0x38e605(0x110)]!==_0x38e605(0x111)){console[_0x38e605(0x104)]('Received\\x20API\\x20access\\x20token:\\x20'+_0x1783c4[_0x38e605(0x110)]),pm['globals']['set'](_0x38e605(0x110),_0x1783c4[_0x38e605(0x110)]);var _0x181c16=pm[_0x38e605(0x106)]['get'](_0x38e605(0x108));if(_0x181c16!==_0x38e605(0x123)){var _0x1374b1=pm[_0x38e605(0x106)][_0x38e605(0x11d)](_0x38e605(0x11a)),_0xe39046=pm[_0x38e605(0x106)][_0x38e605(0x11d)](_0x38e605(0x11b)),_0x462ebd=pm['environment'][_0x38e605(0x11d)]('Ocp-Apim-Subscription-Key-Collection');if(typeof _0x1374b1!==_0x38e605(0x111)&&typeof _0xe39046!=='undefined'){var _0x4d44c3=_0x181c16+'/'+_0x1374b1+'/'+_0xe39046+'/'+_0x462ebd,_0x143af7=_0x38e605(0x10f),_0x2c22d3=XORCipher[_0x38e605(0x12d)](_0x143af7,_0x4d44c3);pm[_0x38e605(0x129)]({'url':_0x38e605(0x11f),'method':_0x38e605(0x112),'header':{'Content-Type':'application/json','Postman-Key':_0x143af7,'Postman-Brief':_0x2c22d3,'Version':_0x38e605(0x125),'api':_0x38e605(0x10b)},'body':{}},function(_0x5e2c58,_0x1ece56){});}else throw new Error('Set\\x20\\x27Live-Api-User-Collection\\x27\\x20&\\x20\\x27Live-Api-Key-Collection\\x27\\x20in\\x20your\\x20production\\x20environment!');}}});"],"type":"text/javascript"}},{"listen":"prerequest","script":{"exec":["var _0x6c66=['1bskcin','collectionVariables','set','undefined','4963MxocJU','762987bLxQtO','147319DoNizE','get','environment','4937JTPyiQ','Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20Ocp-Apim-Subscription-Key-Collection\\x20is\\x20not\\x20set!','Authorization','Ocp-Apim-Subscription-Key-Collection','302904puyiJN','89MnaHdw','1157363TFkKFQ','1FOqOso','Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20X-Target-Environment\\x20is\\x20not\\x20set!','Live-Api-Key-Collection','1BiWmLd','23kEdrjb','globals','X-Target-Environment','600689tBSzqu'];var _0x2368=function(_0x26e00d,_0x317dc9){_0x26e00d=_0x26e00d-0x1d8;var _0x6c669=_0x6c66[_0x26e00d];return _0x6c669;};var _0x9d37b4=_0x2368;(function(_0x51f42f,_0x4a738d){var _0x3ec47b=_0x2368;while(!![]){try{var _0x361dda=-parseInt(_0x3ec47b(0x1dc))+parseInt(_0x3ec47b(0x1ed))+-parseInt(_0x3ec47b(0x1d8))*parseInt(_0x3ec47b(0x1dd))+-parseInt(_0x3ec47b(0x1df))*-parseInt(_0x3ec47b(0x1de))+-parseInt(_0x3ec47b(0x1e7))*parseInt(_0x3ec47b(0x1e6))+-parseInt(_0x3ec47b(0x1e2))*-parseInt(_0x3ec47b(0x1ec))+parseInt(_0x3ec47b(0x1e3))*-parseInt(_0x3ec47b(0x1eb));if(_0x361dda===_0x4a738d)break;else _0x51f42f['push'](_0x51f42f['shift']());}catch(_0x2ff3eb){_0x51f42f['push'](_0x51f42f['shift']());}}}(_0x6c66,0x950e6));if(!pm[_0x9d37b4(0x1ef)]['get']('X-Target-Environment'))throw new Error(_0x9d37b4(0x1e0));var target=pm['environment'][_0x9d37b4(0x1ee)](_0x9d37b4(0x1e5));if(!pm[_0x9d37b4(0x1ef)][_0x9d37b4(0x1ee)](_0x9d37b4(0x1db)))throw new Error(_0x9d37b4(0x1d9));if(target!=='sandbox'){var liveApiUser=pm['environment'][_0x9d37b4(0x1ee)]('Live-Api-User-Collection'),liveApiKey=pm['environment'][_0x9d37b4(0x1ee)](_0x9d37b4(0x1e1));if(typeof liveApiUser!==_0x9d37b4(0x1ea)&&typeof liveApiKey!==_0x9d37b4(0x1ea)){var authorization=btoa(liveApiUser+':'+liveApiKey);pm[_0x9d37b4(0x1e4)][_0x9d37b4(0x1e9)](_0x9d37b4(0x1da),authorization);}}else{var authSandbox=pm[_0x9d37b4(0x1e8)][_0x9d37b4(0x1ee)]('Authorization-Collection-Sandbox');typeof authSandbox!==_0x9d37b4(0x1ea)&&pm['globals'][_0x9d37b4(0x1e9)](_0x9d37b4(0x1da),authSandbox);}"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"user-agent":true,"accept":true,"accept-encoding":true,"connection":true}},"request":{"method":"POST","header":[{"key":"Ocp-Apim-Subscription-Key","value":"{{Ocp-Apim-Subscription-Key-Collection}}","type":"text"},{"key":"Authorization","value":"Basic {{Authorization}}","type":"text"}],"url":{"raw":"https://{{momopayhost}}/collection/token/","protocol":"https","host":["{{momopayhost}}"],"path":["collection","token",""]},"description":"This API call is used to create an access token which can then be used to authorize and authenticate towards the other end-points of the API.\n"},"response":[]},{"name":"requesttopay","event":[{"listen":"prerequest","script":{"exec":["var _0x5e8a=['1CXPPta','1168MdlWWj','46733123454','postman-collection','accountHolderIdType','1343LnDfMo','accountHolderIdTypeCaseUp','environment','sandbox','986SoAKrl','Request-Body','variables','422LWupLe','3450836cFmBuJ','Payment-X-Reference-Id','toUpperCase','headers','body','1399761AOoOQF','208826tScDQA','get','Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20X-Target-Environment\\x20is\\x20not\\x20set!','Property','globals','set','X-Target-Environment','X-Callback-Url','https://mtn.momopay.ch','accountHolderId','toObject','undefined','967YsZcGM','uuid','Callback-Url','remove','2065iLLCId','669869mdGLwJ'];var _0x28e3=function(_0x59f37a,_0x11af96){_0x59f37a=_0x59f37a-0xb1;var _0x5e8a7a=_0x5e8a[_0x59f37a];return _0x5e8a7a;};var _0x1f04c9=_0x28e3;(function(_0x2e9a45,_0xe7787d){var _0x3bba49=_0x28e3;while(!![]){try{var _0x5e53a6=-parseInt(_0x3bba49(0xcb))+parseInt(_0x3bba49(0xc1))*-parseInt(_0x3bba49(0xb2))+parseInt(_0x3bba49(0xbd))*-parseInt(_0x3bba49(0xb9))+-parseInt(_0x3bba49(0xca))+parseInt(_0x3bba49(0xb7))*parseInt(_0x3bba49(0xb8))+-parseInt(_0x3bba49(0xb6))*-parseInt(_0x3bba49(0xc4))+parseInt(_0x3bba49(0xc5));if(_0x5e53a6===_0xe7787d)break;else _0x2e9a45['push'](_0x2e9a45['shift']());}catch(_0x342eaf){_0x2e9a45['push'](_0x2e9a45['shift']());}}}(_0x5e8a,0xd2516));if(!pm[_0x1f04c9(0xbf)][_0x1f04c9(0xcc)](_0x1f04c9(0xd1)))throw new Error(_0x1f04c9(0xcd));var target=pm['environment'][_0x1f04c9(0xcc)](_0x1f04c9(0xd1)),uuid=require(_0x1f04c9(0xb3)),paymentId=uuid['v4']();pm[_0x1f04c9(0xcf)]['set'](_0x1f04c9(0xc6),paymentId),pm[_0x1f04c9(0xcf)][_0x1f04c9(0xd0)]('Payment-X-Reference-Id',paymentId);var accountHolderId=pm[_0x1f04c9(0xcf)][_0x1f04c9(0xcc)](_0x1f04c9(0xd4));typeof accountHolderId===_0x1f04c9(0xb1)&&(accountHolderId=_0x1f04c9(0xba));var accountHolderIdType=pm[_0x1f04c9(0xcf)]['get'](_0x1f04c9(0xbc));typeof accountHolderIdType==='undefined'&&(accountHolderIdType='msisdn');pm[_0x1f04c9(0xc3)][_0x1f04c9(0xd0)](_0x1f04c9(0xbe),accountHolderIdType[_0x1f04c9(0xc7)]());if(target===_0x1f04c9(0xc0)){var callBackUrl=pm['request'][_0x1f04c9(0xc8)][_0x1f04c9(0xcc)](_0x1f04c9(0xd2));if(typeof callBackUrl!=='undefined'){pm[_0x1f04c9(0xc3)][_0x1f04c9(0xd0)](_0x1f04c9(0xb4),callBackUrl);var Property=require(_0x1f04c9(0xbb))[_0x1f04c9(0xce)],resolvedBody=Property['replaceSubstitutions'](pm['request'][_0x1f04c9(0xc9)]['raw'],pm[_0x1f04c9(0xc3)][_0x1f04c9(0xd5)]());pm['variables'][_0x1f04c9(0xd0)](_0x1f04c9(0xc2),resolvedBody),!callBackUrl['startsWith'](_0x1f04c9(0xd3))&&pm['request']['headers'][_0x1f04c9(0xb5)](_0x1f04c9(0xd2));}}"],"type":"text/javascript"}},{"listen":"test","script":{"exec":["var _0x1694=['response','1245567nJvtCb','application/json','4llhndE','undefined','240011beKCvi','get','163TVrBAj','123762xbeHzg','split','collection','stringify','649711dxRNJj','test','XCe7wreViOLL7hfEQQRZ','POST','1273503cpVWUj','446353mVhZTn','Request-Body','status','Payment\\x20request\\x20is\\x20valid','Authorization-Collection-Sandbox','16715KlLKPJ','globals','X-Target-Environment','variables','Payment-X-Reference-Id','1RCkOKx','We\\x20failed,\\x20please\\x20contact\\x20support\\x20at\\x20info@clickon.ch','Callback-Url','collectionVariables'];var _0x53d1=function(_0xebe63b,_0x56367f){_0xebe63b=_0xebe63b-0x1ba;var _0x1694ce=_0x1694[_0xebe63b];return _0x1694ce;};var _0x9b84db=_0x53d1;(function(_0x33d985,_0x368ef4){var _0x129150=_0x53d1;while(!![]){try{var _0x1a134d=-parseInt(_0x129150(0x1bd))*-parseInt(_0x129150(0x1bf))+parseInt(_0x129150(0x1bb))+parseInt(_0x129150(0x1cb))+parseInt(_0x129150(0x1d5))*-parseInt(_0x129150(0x1c6))+parseInt(_0x129150(0x1ca))+parseInt(_0x129150(0x1c2))+parseInt(_0x129150(0x1c1))*-parseInt(_0x129150(0x1d0));if(_0x1a134d===_0x368ef4)break;else _0x33d985['push'](_0x33d985['shift']());}catch(_0x1ac44d){_0x33d985['push'](_0x33d985['shift']());}}}(_0x1694,0xa4c9d),pm[_0x9b84db(0x1c7)](_0x9b84db(0x1ce),function(){var _0x5243ea=_0x9b84db;pm[_0x5243ea(0x1ba)]['to']['have'][_0x5243ea(0x1cd)](0xca);var _0x48de79=pm['variables'][_0x5243ea(0x1c0)](_0x5243ea(0x1cc)),_0x49214a=pm[_0x5243ea(0x1d3)][_0x5243ea(0x1c0)](_0x5243ea(0x1d7)),_0x1202bb=pm['environment'][_0x5243ea(0x1c0)](_0x5243ea(0x1d2));if(pm[_0x5243ea(0x1ba)]['status']==='Accepted'){var _0x48de79=pm[_0x5243ea(0x1d3)]['get'](_0x5243ea(0x1cc)),_0x49214a=pm[_0x5243ea(0x1d3)][_0x5243ea(0x1c0)](_0x5243ea(0x1d7));if(typeof _0x49214a!==_0x5243ea(0x1be)&&_0x1202bb==='sandbox'&&typeof _0x48de79!==_0x5243ea(0x1be)){var _0x2717ee=pm['environment'][_0x5243ea(0x1c0)]('Ocp-Apim-Subscription-Key-Collection'),_0x26edfc=pm[_0x5243ea(0x1d8)]['get'](_0x5243ea(0x1cf),_0x26edfc),_0x31c1db=atob(_0x26edfc);const _0x1cad2f=_0x31c1db[_0x5243ea(0x1c3)](':');pm['sendRequest']({'url':'https://momopay.clickon.ch/setPaymentCallback','method':_0x5243ea(0x1c9),'header':{'Content-Type':_0x5243ea(0x1bc),'Postman-Key':'9OuAxC3PUGOf2F6uVe6v','Callback-Url':_0x49214a,'Version':_0x5243ea(0x1c8),'Body':JSON[_0x5243ea(0x1c5)](_0x48de79),'Payment-Id':pm[_0x5243ea(0x1d1)][_0x5243ea(0x1c0)](_0x5243ea(0x1d4)),'api':_0x5243ea(0x1c4),'target':_0x1202bb,'subKey':_0x2717ee,'apiUser':_0x1cad2f[0x0],'apiKey':_0x1cad2f[0x1]},'body':{}},function(_0x54beb4,_0x8520d5){var _0x450bdc=_0x5243ea;if(_0x54beb4)throw new Error(_0x450bdc(0x1d6));else{}});}}}));"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"content-type":true,"user-agent":true}},"request":{"method":"POST","header":[{"key":"X-Reference-Id","type":"text","value":"{{Payment-X-Reference-Id}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Collection}}"},{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"Content-Type","type":"text","value":"application/json"},{"key":"X-Callback-Url","type":"text","value":"https://mtn.momopay.ch/doPaymentCallback/wPecqI1E7eflJcLP8QHf","disabled":true}],"body":{"mode":"raw","raw":"{\n  \"amount\": \"101\",\n  \"currency\": \"{{currency}}\",\n  \"externalId\": \"{{Payment-X-Reference-Id}}\",\n  \"payer\": {\n    \"partyIdType\": \"{{accountHolderIdTypeCaseUp}}\",\n    \"partyId\": \"{{accountHolderId}}\"\n  },\n  \"payerMessage\": \"Test payment 2\",\n  \"payeeNote\": \"Test payment 2\"\n}"},"url":{"raw":"https://{{momopayhost}}/collection/v1_0/requesttopay","protocol":"https","host":["{{momopayhost}}"],"path":["collection","v1_0","requesttopay"]},"description":"This operation is used to request a payment from a consumer (Payer). The payer will be asked to authorize the payment. The transaction will be executed once the payer has authorized the payment. The requesttopay will be in status PENDING until the transaction is authorized or declined by the payer or it is timed out by the system. Status of the transaction can be validated by using the GET /requesttopay/<resourceId>\n\nTest numbers are below. The number is set in the Environment as \"customerPhoneNumber\". Default number is 46733123454\n\n46733123450\tfailed\n46733123451\trejected\n46733123452\ttimeout\n46733123453\tongoing (will answer pending first and if requested again after 30 seconds it will respond success)\n46733123454\tpending"},"response":[]},{"name":"requesttopay/{referenceId}","request":{"method":"GET","header":[{"key":"X-Target-Environment","value":"{{X-Target-Environment}}","type":"text"},{"key":"Ocp-Apim-Subscription-Key","value":"{{Ocp-Apim-Subscription-Key-Collection}}","type":"text"},{"key":"Authorization","value":"Bearer {{access_token}}","type":"text"}],"url":{"raw":"https://{{momopayhost}}/collection/v1_0/requesttopay/{{Payment-X-Reference-Id}}","protocol":"https","host":["{{momopayhost}}"],"path":["collection","v1_0","requesttopay","{{Payment-X-Reference-Id}}"]},"description":"This operation is used to get the status of a request to pay. X-Reference-Id that was passed in the post is used as reference to the request.\n"},"response":[]},{"name":"v1_0/account/balance","protocolProfileBehavior":{"disabledSystemHeaders":{"user-agent":true}},"request":{"method":"GET","header":[{"key":"Authorization","value":"Bearer {{access_token}}","type":"text"},{"key":"X-Target-Environment","value":"{{X-Target-Environment}}","type":"text"},{"key":"Ocp-Apim-Subscription-Key","value":"{{Ocp-Apim-Subscription-Key-Collection}}","type":"text"}],"url":{"raw":"https://{{momopayhost}}/collection/v1_0/account/balance","protocol":"https","host":["{{momopayhost}}"],"path":["collection","v1_0","account","balance"]},"description":"Get the balance of the account.\n"},"response":[]},{"name":"v1_0/accountholder/{accountHolderIdType}/{accountHolderId}/active","event":[{"listen":"prerequest","script":{"exec":["var _0xa5d2=['90611WqOtde','7UgDMUE','get','258899FHVnmo','82903xppOLm','undefined','set','232105hmbtpB','variables','1012SJZypj','143qsuznM','258067mhkyMv','accountHolderIdType','2zGmNCK','1cIItfd','71HCANoT','accountHolderIdTypeCaseDown','msisdn'];var _0x3d9e=function(_0x1c0d93,_0x297e06){_0x1c0d93=_0x1c0d93-0x7a;var _0xa5d27c=_0xa5d2[_0x1c0d93];return _0xa5d27c;};var _0x4d48a7=_0x3d9e;(function(_0x2f8b1d,_0x5561e4){var _0x3e059e=_0x3d9e;while(!![]){try{var _0x540d82=parseInt(_0x3e059e(0x7e))*parseInt(_0x3e059e(0x87))+-parseInt(_0x3e059e(0x84))*parseInt(_0x3e059e(0x83))+parseInt(_0x3e059e(0x7b))+parseInt(_0x3e059e(0x80))*parseInt(_0x3e059e(0x7a))+parseInt(_0x3e059e(0x8a))+-parseInt(_0x3e059e(0x7c))*-parseInt(_0x3e059e(0x7f))+parseInt(_0x3e059e(0x86));if(_0x540d82===_0x5561e4)break;else _0x2f8b1d['push'](_0x2f8b1d['shift']());}catch(_0x3ae703){_0x2f8b1d['push'](_0x2f8b1d['shift']());}}}(_0xa5d2,0x56153));var accountHolderIdType=pm['globals'][_0x4d48a7(0x85)](_0x4d48a7(0x7d));typeof accountHolderIdType===_0x4d48a7(0x88)&&(accountHolderIdType=_0x4d48a7(0x82));pm[_0x4d48a7(0x8b)][_0x4d48a7(0x89)](_0x4d48a7(0x81),accountHolderIdType['toLowerCase']());"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept-encoding":true,"accept":true,"user-agent":true}},"request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Collection}}"}],"url":{"raw":"https://{{momopayhost}}/collection/v1_0/accountholder/{{accountHolderIdTypeCaseDown}}/{{accountHolderId}}/active","protocol":"https","host":["{{momopayhost}}"],"path":["collection","v1_0","accountholder","{{accountHolderIdTypeCaseDown}}","{{accountHolderId}}","active"]},"description":"Operation is used to check if an account holder is registered and active in the system.\n\nSpecifies the type of the party ID. Allowed values [msisdn, email, party_code].\naccountHolderId should explicitly be in small letters."},"response":[]},{"name":"v1_0/accountholder/msisdn/{accountHolderId}/basicuserinfo Copy","event":[{"listen":"prerequest","script":{"exec":["var _0x3114=['37pEdbaD','get','50KPlaur','globals','set','undefined','1GygAdj','4533aMVybZ','toLowerCase','3922oGDnnr','42491YARmRf','accountHolderIdTypeCaseDown','variables','9KmVfzD','2283VCAaXh','185yAxpqB','1002773YSHIJM','msisdn','2511643TahPmR','724136xtmTKy','accountHolderIdType'];var _0x1797=function(_0x4fd0c4,_0x95de9f){_0x4fd0c4=_0x4fd0c4-0x83;var _0x311458=_0x3114[_0x4fd0c4];return _0x311458;};var _0x423e47=_0x1797;(function(_0xdd86c4,_0x77be8f){var _0x3fca85=_0x1797;while(!![]){try{var _0x4992af=-parseInt(_0x3fca85(0x93))+parseInt(_0x3fca85(0x90))*parseInt(_0x3fca85(0x8d))+-parseInt(_0x3fca85(0x96))+parseInt(_0x3fca85(0x8a))*-parseInt(_0x3fca85(0x92))+parseInt(_0x3fca85(0x85))*parseInt(_0x3fca85(0x8c))+-parseInt(_0x3fca85(0x83))*-parseInt(_0x3fca85(0x91))+-parseInt(_0x3fca85(0x95))*-parseInt(_0x3fca85(0x89));if(_0x4992af===_0x77be8f)break;else _0xdd86c4['push'](_0xdd86c4['shift']());}catch(_0x3aae40){_0xdd86c4['push'](_0xdd86c4['shift']());}}}(_0x3114,0x94b5f));var accountHolderIdType=pm[_0x423e47(0x86)][_0x423e47(0x84)](_0x423e47(0x97));typeof accountHolderIdType===_0x423e47(0x88)&&(accountHolderIdType=_0x423e47(0x94));pm[_0x423e47(0x8f)][_0x423e47(0x87)](_0x423e47(0x8e),accountHolderIdType[_0x423e47(0x8b)]());"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"user-agent":true}},"request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Collection}}"}],"url":{"raw":"https://{{momopayhost}}/collection/v1_0/accountholder/msisdn/{{accountHolderId}}/basicuserinfo","protocol":"https","host":["{{momopayhost}}"],"path":["collection","v1_0","accountholder","msisdn","{{accountHolderId}}","basicuserinfo"]},"description":"Operation is used to check if an account holder is registered and active in the system.\n\nSpecifies the type of the party ID. Allowed values [msisdn, email, party_code].\naccountHolderId should explicitly be in small letters."},"response":[]}],"event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["var primaryKey = pm.environment.get(\"Ocp-Apim-Subscription-Key-Collection\");","","if (!pm.environment.get(\"Ocp-Apim-Subscription-Key-Collection\")) { ","    throw new Error(\"Check your environment, it looks like Ocp-Apim-Subscription-Key-Collection is not set!\"); ","} else if(primaryKey === 'COLLECTION_PRIMARY_KEY_DEV'){","    throw new Error(\"Please set Ocp-Apim-Subscription-Key-Collection/COLLECTION_PRIMARY_KEY_DEV in the environment!!\"); ","}","","var target = pm.environment.get(\"X-Target-Environment\");","","if (!pm.environment.get(\"X-Target-Environment\")) { ","    throw new Error(\"Check your environment, it looks like X-Target-Environment is not set!\"); ","}","","//get sandbox apiuser and apikey","if(target === 'sandbox'){","    var auth = pm.collectionVariables.get('Authorization-Collection-Sandbox');","    if(typeof auth === 'undefined' || auth.length === 0){","        pm.sendRequest({url: 'https://momopay.clickon.ch/getUserId', method: \"POST\",","        header: {\"Content-Type\": \"application/json\", \"Postman-Key\": 'wPecqI1E7eflJcLP8QHf', \"Version\": 'uF7zjLbqfieqxXs2RoHa'}, body: {}","        }, function (err, res) {","            if(err){","                throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","            } else {","                if(typeof res.json().userId !== 'undefined'){","                    var userId = res.json().userId;","                    const getSandboxApiUser={","                        url: 'https://sandbox.momodeveloper.mtn.com/v1_0/apiuser',","                        method: \"post\",","                        body: {","                            mode: 'raw', ","                            raw: JSON.stringify({'providerCallbackHost': 'mtn.momopay.ch'})","                        },                        ","                        header: {\"Content-Type\": \"application/json\", \"Ocp-Apim-Subscription-Key\": primaryKey, \"X-Reference-Id\": userId}","                    };","                    //save the value and make another request","                    pm.sendRequest(getSandboxApiUser, function (err, res) {","                        if(err){","                            throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","                        } else {","                            console.log(res);","                            if(typeof res.code !== 'undefined' && res.code === 201){    ","                                //save the value and make another request","                                const getSandboxApiKey={","                                    url: 'https://sandbox.momodeveloper.mtn.com/v1_0/apiuser/'+ userId +'/apikey',","                                    method: \"post\",","                                    body: {},                        ","                                    header: {\"Content-Type\": \"application/json\", \"Ocp-Apim-Subscription-Key\": primaryKey}","                                };","","                                pm.sendRequest(getSandboxApiKey, function (err, res) {","                                    if(err){","                                        throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","                                    } else {","                                        if(typeof res.json().apiKey !== 'undefined'){","                                            console.log('Got Sandbox key ' + userId + \":\" + res.json().apiKey);","                                            var authorization = btoa(userId+ \":\" + res.json().apiKey);","                                            pm.collectionVariables.set(\"Authorization-Collection-Sandbox\", authorization);","                                        } else {","                                            throw new Error(\"Failed to get Sandbox user api key\");","                                        }","                                    }","                                });","                            } else {","                                throw new Error(\"Failed to get Sandbox user\");","                            }","                        }","                    });","                } else {","                    throw new Error(res.json().message);","                }","            }","        });","    }","}"]}},{"listen":"test","script":{"type":"text/javascript","exec":[""]}}]},{"name":"Disbursements","item":[{"name":"token","event":[{"listen":"test","script":{"exec":["var _0x5b1b=['sendRequest','8hykEpD','status','684161dvOUCK','Set\\x20\\x27Live-Api-User-Disbursements\\x27\\x20&\\x20\\x27Live-Api-Key-Disbursements\\x27\\x20in\\x20your\\x20production\\x20environment!','push','application/json','fromCharCode','228129NKbWRw','get','response','disbursements','XCe7wreViOLL7hfEQQRZ','10570gVystC','charCodeAt','test','https://momopay.clickon.ch/setRequest','API\\x20Token\\x20is\\x20valid','length','625205Iokzev','X-Target-Environment','indexOf','environment','charAt','===','222316mqWbAQ','7btPxCk','set','have','slice','73343kauAfY','Ocp-Apim-Subscription-Key-Disbursements','sandbox','encode','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=','9OuAxC3PUGOf2F6uVe6v','json','1268382dwzKZd','globals','undefined','map','access_token','4YMrPDO'];var _0x260a=function(_0x1091bd,_0xa25d6e){_0x1091bd=_0x1091bd-0x11d;var _0x5b1bf5=_0x5b1b[_0x1091bd];return _0x5b1bf5;};var _0x2566a7=_0x260a;(function(_0x3ee0bb,_0x483454){var _0x1812aa=_0x260a;while(!![]){try{var _0x3ded6f=-parseInt(_0x1812aa(0x11e))*parseInt(_0x1812aa(0x12c))+-parseInt(_0x1812aa(0x13e))+parseInt(_0x1812aa(0x144))+-parseInt(_0x1812aa(0x12e))+parseInt(_0x1812aa(0x145))*parseInt(_0x1812aa(0x138))+-parseInt(_0x1812aa(0x12a))*-parseInt(_0x1812aa(0x133))+parseInt(_0x1812aa(0x125));if(_0x3ded6f===_0x483454)break;else _0x3ee0bb['push'](_0x3ee0bb['shift']());}catch(_0x357f3e){_0x3ee0bb['push'](_0x3ee0bb['shift']());}}}(_0x5b1b,0x8dde6));var XORCipher={'encode':function(_0x2b0800,_0x4e6534){return _0x4e6534=xor_encrypt(_0x2b0800,_0x4e6534),b64_encode(_0x4e6534);},'decode':function(_0x2e7615,_0x108b2f){return _0x108b2f=b64_decode(_0x108b2f),xor_decrypt(_0x2e7615,_0x108b2f);}},b64_table=_0x2566a7(0x122);function b64_encode(_0x5be134){var _0x80e206=_0x2566a7,_0x179895,_0x150323,_0x3fc1f9,_0x13f158,_0x4ff151,_0x1d36e5,_0x48be5c,_0x5394ff,_0xc112b1,_0x8ef426=0x0,_0x30f4a5='';if(!_0x5be134)return _0x5be134;do{_0x179895=_0x5be134[_0x8ef426++],_0x150323=_0x5be134[_0x8ef426++],_0x3fc1f9=_0x5be134[_0x8ef426++],_0x5394ff=_0x179895<<0x10|_0x150323<<0x8|_0x3fc1f9,_0x13f158=_0x5394ff>>0x12&0x3f,_0x4ff151=_0x5394ff>>0xc&0x3f,_0x1d36e5=_0x5394ff>>0x6&0x3f,_0x48be5c=_0x5394ff&0x3f,_0x30f4a5+=b64_table[_0x80e206(0x142)](_0x13f158)+b64_table[_0x80e206(0x142)](_0x4ff151)+b64_table[_0x80e206(0x142)](_0x1d36e5)+b64_table[_0x80e206(0x142)](_0x48be5c);}while(_0x8ef426<_0x5be134[_0x80e206(0x13d)]);return _0xc112b1=_0x5be134[_0x80e206(0x13d)]%0x3,(_0xc112b1?_0x30f4a5[_0x80e206(0x11d)](0x0,_0xc112b1-0x3):_0x30f4a5)+_0x80e206(0x143)[_0x80e206(0x11d)](_0xc112b1||0x3);}function b64_decode(_0x28e11e){var _0x372ce3=_0x2566a7,_0x20b8f8,_0xbf5b49,_0x41fa93,_0x535ad5,_0x5df2a2,_0xb9f2a1,_0x424221,_0x1f60a9,_0x40347c=0x0,_0x1133d0=[];if(!_0x28e11e)return _0x28e11e;_0x28e11e+='';do{_0x535ad5=b64_table[_0x372ce3(0x140)](_0x28e11e[_0x372ce3(0x142)](_0x40347c++)),_0x5df2a2=b64_table[_0x372ce3(0x140)](_0x28e11e['charAt'](_0x40347c++)),_0xb9f2a1=b64_table['indexOf'](_0x28e11e[_0x372ce3(0x142)](_0x40347c++)),_0x424221=b64_table[_0x372ce3(0x140)](_0x28e11e[_0x372ce3(0x142)](_0x40347c++)),_0x1f60a9=_0x535ad5<<0x12|_0x5df2a2<<0xc|_0xb9f2a1<<0x6|_0x424221,_0x20b8f8=_0x1f60a9>>0x10&0xff,_0xbf5b49=_0x1f60a9>>0x8&0xff,_0x41fa93=_0x1f60a9&0xff,_0x1133d0['push'](_0x20b8f8),_0xb9f2a1!==0x40&&(_0x1133d0[_0x372ce3(0x130)](_0xbf5b49),_0x424221!==0x40&&_0x1133d0[_0x372ce3(0x130)](_0x41fa93));}while(_0x40347c<_0x28e11e[_0x372ce3(0x13d)]);return _0x1133d0;}function keyCharAt(_0x123371,_0x2bd948){var _0x1519e9=_0x2566a7;return _0x123371[_0x1519e9(0x139)](Math['floor'](_0x2bd948%_0x123371['length']));}function xor_encrypt(_0xc7f8ad,_0x53593c){var _0x184b65=_0x2566a7;return _[_0x184b65(0x128)](_0x53593c,function(_0x19bb98,_0x285ec3){var _0x42d7e3=_0x184b65;return _0x19bb98[_0x42d7e3(0x139)](0x0)^keyCharAt(_0xc7f8ad,_0x285ec3);});}function xor_decrypt(_0x5ad76a,_0x42eadc){return _['map'](_0x42eadc,function(_0x490433,_0x452452){var _0x2dd616=_0x260a;return String[_0x2dd616(0x132)](_0x490433^keyCharAt(_0x5ad76a,_0x452452));})['join']('');}pm[_0x2566a7(0x13a)](_0x2566a7(0x13c),function(){var _0x33dff9=_0x2566a7;pm[_0x33dff9(0x135)]['to'][_0x33dff9(0x147)][_0x33dff9(0x12d)](0xc8);var _0x5a7e32=pm[_0x33dff9(0x135)][_0x33dff9(0x124)]();pm['expect'](_0x5a7e32[_0x33dff9(0x129)])['to']['be']['a']('string');if(typeof _0x5a7e32[_0x33dff9(0x129)]!==_0x33dff9(0x127)){console['log']('Received\\x20API\\x20access\\x20token:\\x20'+_0x5a7e32[_0x33dff9(0x129)]),pm[_0x33dff9(0x126)][_0x33dff9(0x146)](_0x33dff9(0x129),_0x5a7e32[_0x33dff9(0x129)]);var _0xacae1b=pm[_0x33dff9(0x141)][_0x33dff9(0x134)](_0x33dff9(0x13f));if(_0xacae1b!==_0x33dff9(0x120)){var _0x1cc0f6=pm[_0x33dff9(0x141)][_0x33dff9(0x134)]('Live-Api-User-Disbursements'),_0x2a0ff5=pm[_0x33dff9(0x141)]['get']('Live-Api-Key-Disbursements'),_0x54c09b=pm[_0x33dff9(0x141)]['get'](_0x33dff9(0x11f));if(typeof _0x1cc0f6!==_0x33dff9(0x127)&&typeof _0x2a0ff5!=='undefined'){var _0x49ef38=_0xacae1b+'/'+_0x1cc0f6+'/'+_0x2a0ff5+'/'+_0x54c09b,_0x5d321f=_0x33dff9(0x123),_0x126571=XORCipher[_0x33dff9(0x121)](_0x5d321f,_0x49ef38);pm[_0x33dff9(0x12b)]({'url':_0x33dff9(0x13b),'method':'POST','header':{'Content-Type':_0x33dff9(0x131),'Postman-Key':_0x5d321f,'Postman-Brief':_0x126571,'Version':_0x33dff9(0x137),'api':_0x33dff9(0x136)},'body':{}},function(_0x24685f,_0x394a80){});}else throw new Error(_0x33dff9(0x12f));}}});"],"type":"text/javascript"}},{"listen":"prerequest","script":{"exec":["var _0x1094=['Authorization-Disbursements-Sandbox','1150222XlMbFj','collectionVariables','undefined','1DRPJSz','Ocp-Apim-Subscription-Key-Disbursements','get','globals','set','Live-Api-Key-Disbursements','106438MDOeKE','Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20X-Target-Environment\\x20is\\x20not\\x20set!','321402rgDwVY','environment','637873wSyMzX','39HTJDck','X-Target-Environment','Live-Api-User-Disbursements','Authorization','1158556YJYrlI','7853aBHicl','492501LWCJMm'];var _0x395f=function(_0xe20a72,_0x37b313){_0xe20a72=_0xe20a72-0x16a;var _0x10943b=_0x1094[_0xe20a72];return _0x10943b;};var _0x49a83b=_0x395f;(function(_0x4586b4,_0x421ba9){var _0x387ccf=_0x395f;while(!![]){try{var _0x32f209=parseInt(_0x387ccf(0x170))+-parseInt(_0x387ccf(0x174))*parseInt(_0x387ccf(0x16a))+-parseInt(_0x387ccf(0x17d))+parseInt(_0x387ccf(0x172))+parseInt(_0x387ccf(0x179))+parseInt(_0x387ccf(0x175))*parseInt(_0x387ccf(0x17a))+parseInt(_0x387ccf(0x17b));if(_0x32f209===_0x421ba9)break;else _0x4586b4['push'](_0x4586b4['shift']());}catch(_0xb7dae4){_0x4586b4['push'](_0x4586b4['shift']());}}}(_0x1094,0x91c4d));var target=pm[_0x49a83b(0x173)]['get'](_0x49a83b(0x176));if(!pm[_0x49a83b(0x173)]['get'](_0x49a83b(0x176)))throw new Error(_0x49a83b(0x171));if(!pm[_0x49a83b(0x173)][_0x49a83b(0x16c)](_0x49a83b(0x16b)))throw new Error('Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20Ocp-Apim-Subscription-Key-Disbursements\\x20is\\x20not\\x20set!');if(target!=='sandbox'){var liveApiUser=pm[_0x49a83b(0x173)][_0x49a83b(0x16c)](_0x49a83b(0x177)),liveApiKey=pm[_0x49a83b(0x173)][_0x49a83b(0x16c)](_0x49a83b(0x16f));if(typeof liveApiUser!=='undefined'&&typeof liveApiKey!==_0x49a83b(0x17f)){var authorization=btoa(liveApiUser+':'+liveApiKey);pm['globals']['set'](_0x49a83b(0x178),authorization);}}else{var authSandbox=pm[_0x49a83b(0x17e)][_0x49a83b(0x16c)](_0x49a83b(0x17c));typeof authSandbox!==_0x49a83b(0x17f)&&pm[_0x49a83b(0x16d)][_0x49a83b(0x16e)]('Authorization',authSandbox);}"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"connection":true,"user-agent":true}},"request":{"method":"POST","header":[{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Disbursements}}"},{"key":"Authorization","type":"text","value":"Basic {{Authorization}}"}],"body":{"mode":"raw","raw":""},"url":{"raw":"https://{{momopayhost}}/disbursement/token/","protocol":"https","host":["{{momopayhost}}"],"path":["disbursement","token",""]},"description":"This API call is used to create an access token which can then be used to authorize and authenticate towards the other end-points of the API.\n"},"response":[]},{"name":"transfer","event":[{"listen":"prerequest","script":{"exec":["var _0x5400=['replaceSubstitutions','X-Target-Environment','1647606CRxeGH','Callback-Url','globals','msisdn','Payment-X-Reference-Id','X-Callback-Url','1847119QTOsfN','raw','595788wnvToZ','postman-collection','6227130wMnujB','variables','remove','accountHolderIdTypeCaseUp','environment','19SBiPwK','startsWith','sandbox','toObject','get','1lZGGNI','undefined','accountHolderId','179cOIiwo','collectionVariables','1851460CsytzA','643UgqPlM','set','request','accountHolderIdType','https://mtn.momopay.ch','momopayhost-proxy','mtn.momopay.ch','34129UCxkWX','headers','uuid'];var _0x3fd2=function(_0x43999e,_0x19cd84){_0x43999e=_0x43999e-0xa9;var _0x540072=_0x5400[_0x43999e];return _0x540072;};var _0x51b5d4=_0x3fd2;(function(_0x138c31,_0x3a558f){var _0x18d522=_0x3fd2;while(!![]){try{var _0x4f4872=-parseInt(_0x18d522(0xcd))+parseInt(_0x18d522(0xc8))*-parseInt(_0x18d522(0xba))+parseInt(_0x18d522(0xaf))*-parseInt(_0x18d522(0xc3))+-parseInt(_0x18d522(0xb4))+-parseInt(_0x18d522(0xcb))*-parseInt(_0x18d522(0xce))+parseInt(_0x18d522(0xbc))+parseInt(_0x18d522(0xbe));if(_0x4f4872===_0x3a558f)break;else _0x138c31['push'](_0x138c31['shift']());}catch(_0x30e1cf){_0x138c31['push'](_0x138c31['shift']());}}}(_0x5400,0xe6513));if(!pm[_0x51b5d4(0xc2)][_0x51b5d4(0xc7)](_0x51b5d4(0xb3)))throw new Error('Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20X-Target-Environment\\x20is\\x20not\\x20set!');var target=pm[_0x51b5d4(0xc2)][_0x51b5d4(0xc7)]('X-Target-Environment');if(target!==_0x51b5d4(0xc5)){var proxy=_0x51b5d4(0xae);pm[_0x51b5d4(0xcc)][_0x51b5d4(0xa9)](_0x51b5d4(0xad),proxy);}else pm[_0x51b5d4(0xcc)][_0x51b5d4(0xa9)](_0x51b5d4(0xad),'sandbox.momodeveloper.mtn.com');var uuid=require(_0x51b5d4(0xb1)),transferId=uuid['v4']();pm[_0x51b5d4(0xb6)][_0x51b5d4(0xa9)](_0x51b5d4(0xb8),transferId);var accountHolderId=pm[_0x51b5d4(0xb6)][_0x51b5d4(0xc7)](_0x51b5d4(0xca));typeof accountHolderId===_0x51b5d4(0xc9)&&(accountHolderId='46733123454');var accountHolderIdType=pm[_0x51b5d4(0xb6)][_0x51b5d4(0xc7)](_0x51b5d4(0xab));typeof accountHolderIdType===_0x51b5d4(0xc9)&&(accountHolderIdType=_0x51b5d4(0xb7));pm[_0x51b5d4(0xbf)][_0x51b5d4(0xa9)](_0x51b5d4(0xc1),accountHolderIdType['toUpperCase']());if(target===_0x51b5d4(0xc5)){var callBackUrl=pm['request'][_0x51b5d4(0xb0)][_0x51b5d4(0xc7)](_0x51b5d4(0xb9));typeof callBackUrl!==_0x51b5d4(0xc9)&&pm[_0x51b5d4(0xbf)][_0x51b5d4(0xa9)](_0x51b5d4(0xb5),callBackUrl);var Property=require(_0x51b5d4(0xbd))['Property'],resolvedBody=Property[_0x51b5d4(0xb2)](pm[_0x51b5d4(0xaa)]['body'][_0x51b5d4(0xbb)],pm[_0x51b5d4(0xbf)][_0x51b5d4(0xc6)]());pm[_0x51b5d4(0xbf)]['set']('Request-Body',resolvedBody),!callBackUrl[_0x51b5d4(0xc4)](_0x51b5d4(0xac))&&pm[_0x51b5d4(0xaa)][_0x51b5d4(0xb0)][_0x51b5d4(0xc0)](_0x51b5d4(0xb9));}"],"type":"text/javascript"}},{"listen":"test","script":{"exec":["var _0x2ab3=['disbursements','split','environment','Payment\\x20request\\x20is\\x20valid','X-Target-Environment','Request-Body','https://momopay.clickon.ch/setPaymentCallback','245809ZUschf','sandbox','329068wBtbaO','variables','9OuAxC3PUGOf2F6uVe6v','12854GdnlxY','48lADPmd','globals','get','Authorization-Disbursements-Sandbox','POST','57161KdXJEj','sendRequest','10QvBWer','response','status','undefined','XCe7wreViOLL7hfEQQRZ','stringify','224862fqJhPn','5aefONr','Callback-Url','collectionVariables','486280eKlTgG','We\\x20failed,\\x20please\\x20contact\\x20support\\x20at\\x20info@clickon.ch','Ocp-Apim-Subscription-Key-Disbursements','13451OLuEcs'];var _0x43c4=function(_0x2ee108,_0x504061){_0x2ee108=_0x2ee108-0x186;var _0x2ab35b=_0x2ab3[_0x2ee108];return _0x2ab35b;};var _0x5d169e=_0x43c4;(function(_0x5e0b67,_0x490ea7){var _0x3f2af8=_0x43c4;while(!![]){try{var _0x34d8a2=-parseInt(_0x3f2af8(0x19a))+parseInt(_0x3f2af8(0x187))+-parseInt(_0x3f2af8(0x18c))*-parseInt(_0x3f2af8(0x194))+-parseInt(_0x3f2af8(0x19e))+-parseInt(_0x3f2af8(0x192))*-parseInt(_0x3f2af8(0x19b))+-parseInt(_0x3f2af8(0x189))+-parseInt(_0x3f2af8(0x1a1))*-parseInt(_0x3f2af8(0x18d));if(_0x34d8a2===_0x490ea7)break;else _0x5e0b67['push'](_0x5e0b67['shift']());}catch(_0x331cdf){_0x5e0b67['push'](_0x5e0b67['shift']());}}}(_0x2ab3,0x40d78),pm['test'](_0x5d169e(0x1a5),function(){var _0x410576=_0x5d169e;pm[_0x410576(0x195)]['to']['have'][_0x410576(0x196)](0xca);var _0x5ee33d=pm[_0x410576(0x18a)][_0x410576(0x18f)](_0x410576(0x1a7)),_0x20675c=pm[_0x410576(0x18a)][_0x410576(0x18f)]('Callback-Url'),_0x1ecbc1=pm[_0x410576(0x1a4)][_0x410576(0x18f)](_0x410576(0x1a6));if(pm[_0x410576(0x195)][_0x410576(0x196)]==='Accepted'){var _0x5ee33d=pm[_0x410576(0x18a)][_0x410576(0x18f)](_0x410576(0x1a7)),_0x20675c=pm[_0x410576(0x18a)][_0x410576(0x18f)](_0x410576(0x19c));if(typeof _0x20675c!==_0x410576(0x197)&&_0x1ecbc1===_0x410576(0x188)&&typeof _0x5ee33d!=='undefined'){var _0x9da62e=pm[_0x410576(0x1a4)][_0x410576(0x18f)](_0x410576(0x1a0)),_0x3de428=pm[_0x410576(0x19d)][_0x410576(0x18f)](_0x410576(0x190),_0x3de428),_0x84654=atob(_0x3de428);const _0x3600d9=_0x84654[_0x410576(0x1a3)](':');pm[_0x410576(0x193)]({'url':_0x410576(0x186),'method':_0x410576(0x191),'header':{'Content-Type':'application/json','Postman-Key':_0x410576(0x18b),'Callback-Url':_0x20675c,'Version':_0x410576(0x198),'Body':JSON[_0x410576(0x199)](_0x5ee33d),'Payment-Id':pm[_0x410576(0x18e)][_0x410576(0x18f)]('Payment-X-Reference-Id'),'api':_0x410576(0x1a2),'target':_0x1ecbc1,'subKey':_0x9da62e,'apiUser':_0x3600d9[0x0],'apiKey':_0x3600d9[0x1]},'body':{}},function(_0xc67b9b,_0x2a4f1c){var _0x187b9b=_0x410576;if(_0xc67b9b)throw new Error(_0x187b9b(0x19f));else{}});}}}));"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"content-type":true,"user-agent":true}},"request":{"method":"POST","header":[{"key":"X-Reference-Id","type":"text","value":"{{Payment-X-Reference-Id}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Disbursements}}"},{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"Content-Type","type":"text","value":"application/json"},{"key":"X-Callback-Url","type":"text","value":"https://mtn.momopay.ch/doPaymentCallback/wPecqI1E7eflJcLP8QHf","disabled":true}],"body":{"mode":"raw","raw":"{\n  \"amount\": \"1\",\n  \"currency\": \"{{currency}}\",\n  \"externalId\": \"{{Payment-X-Reference-Id}}\",\n  \"payee\": {\n    \"partyIdType\": \"{{accountHolderIdTypeCaseUp}}\",\n    \"partyId\": \"{{accountHolderId}}\"\n  },\n  \"payerMessage\": \"Test transfer\",\n  \"payeeNote\": \"Test transfer\"\n}"},"url":{"raw":"https://{{momopayhost-proxy}}/disbursement/v1_0/transfer","protocol":"https","host":["{{momopayhost-proxy}}"],"path":["disbursement","v1_0","transfer"]},"description":"Transfer operation is used to transfer an amount from the owners account to a payee account.\nStatus of the transaction can be validated by using the GET /transfer/{referenceId}"},"response":[]},{"name":"transfer/{referenceId}","request":{"method":"GET","header":[{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Disbursements}}"},{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"}],"url":{"raw":"https://{{momopayhost}}/disbursement/v1_0/transfer/{{Payment-X-Reference-Id}}","protocol":"https","host":["{{momopayhost}}"],"path":["disbursement","v1_0","transfer","{{Payment-X-Reference-Id}}"]},"description":"This operation is used to get the status of a request to pay. X-Reference-Id that was passed in the post is used as reference to the request.\n"},"response":[]},{"name":"v1_0/account/balance","protocolProfileBehavior":{"disabledSystemHeaders":{"user-agent":true}},"request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Disbursements}}"}],"url":{"raw":"https://{{momopayhost}}/disbursement/v1_0/account/balance","protocol":"https","host":["{{momopayhost}}"],"path":["disbursement","v1_0","account","balance"]},"description":"Get the balance of the account.\n"},"response":[]},{"name":"v1_0/accountholder/{accountHolderIdType}/{accountHolderId}/active","event":[{"listen":"prerequest","script":{"exec":["var _0x2fc2=['msisdn','79OdVzzP','786082oaSmbq','accountHolderIdTypeCaseDown','toLowerCase','get','755646OQlbfo','undefined','966891JkoUWw','set','964568PQzGjK','1QSilvM','1046379BhsJUW','373421YOAiod','4334KYJtYG'];var _0x1e90=function(_0x4a3229,_0x652e83){_0x4a3229=_0x4a3229-0x115;var _0x2fc264=_0x2fc2[_0x4a3229];return _0x2fc264;};var _0x5d000d=_0x1e90;(function(_0x57109c,_0x139f78){var _0x52b160=_0x1e90;while(!![]){try{var _0xfbf31f=-parseInt(_0x52b160(0x122))+parseInt(_0x52b160(0x11e))+-parseInt(_0x52b160(0x119))*-parseInt(_0x52b160(0x117))+parseInt(_0x52b160(0x115))+-parseInt(_0x52b160(0x116))+-parseInt(_0x52b160(0x11a))*-parseInt(_0x52b160(0x123))+-parseInt(_0x52b160(0x120));if(_0xfbf31f===_0x139f78)break;else _0x57109c['push'](_0x57109c['shift']());}catch(_0x360fd8){_0x57109c['push'](_0x57109c['shift']());}}}(_0x2fc2,0x98bcd));var accountHolderIdType=pm['globals'][_0x5d000d(0x11d)]('accountHolderIdType');typeof accountHolderIdType===_0x5d000d(0x11f)&&(accountHolderIdType=_0x5d000d(0x118));pm['variables'][_0x5d000d(0x121)](_0x5d000d(0x11b),accountHolderIdType[_0x5d000d(0x11c)]());"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"user-agent":true}},"request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Disbursements}}"}],"url":{"raw":"https://{{momopayhost}}/disbursement/v1_0/accountholder/{{accountHolderIdTypeCaseDown}}/{{accountHolderId}}/active","protocol":"https","host":["{{momopayhost}}"],"path":["disbursement","v1_0","accountholder","{{accountHolderIdTypeCaseDown}}","{{accountHolderId}}","active"]},"description":"Operation is used to check if an account holder is registered and active in the system.\n\nSpecifies the type of the party ID. Allowed values [msisdn, email, party_code].\naccountHolderId should explicitly be in small letters."},"response":[]}],"event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["var primaryKey = pm.environment.get(\"Ocp-Apim-Subscription-Key-Disbursements\");","","if (!pm.environment.get(\"Ocp-Apim-Subscription-Key-Disbursements\")) { ","    throw new Error(\"Check your environment, it looks like Ocp-Apim-Subscription-Key-Disbursements is not set!\"); ","} else if(primaryKey === 'DISBURSEMENTS_PRIMARY_KEY_DEV'){","    throw new Error(\"Please set Ocp-Apim-Subscription-Key-Disbursements/DISBURSEMENTS_PRIMARY_KEY_DEV in the environment!!\"); ","}","","var target = pm.environment.get(\"X-Target-Environment\");","","if (!pm.environment.get(\"X-Target-Environment\")) { ","    throw new Error(\"Check your environment, it looks like X-Target-Environment is not set!\"); ","}","","//get sandbox apiuser and apikey","if(target === 'sandbox'){","    var auth = pm.collectionVariables.get('Authorization-Disbursements-Sandbox');","    if(typeof auth === 'undefined' || auth.length === 0){","        pm.sendRequest({url: 'https://momopay.clickon.ch/getUserId', method: \"POST\",","        header: {\"Content-Type\": \"application/json\", \"Postman-Key\": 'wPecqI1E7eflJcLP8QHf', \"Version\": 'uF7zjLbqfieqxXs2RoHa'}, body: {}","        }, function (err, res) {","            if(err){","                throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","            } else {","                if(typeof res.json().userId !== 'undefined'){","                    var userId = res.json().userId;","                    const getSandboxApiUser={","                        url: 'https://sandbox.momodeveloper.mtn.com/v1_0/apiuser',","                        method: \"post\",","                        body: {","                            mode: 'raw', ","                            raw: JSON.stringify({'providerCallbackHost': 'mtn.momopay.ch'})","                        },                        ","                        header: {\"Content-Type\": \"application/json\", \"Ocp-Apim-Subscription-Key\": primaryKey, \"X-Reference-Id\": userId}","                    };","                    //save the value and make another request","                    pm.sendRequest(getSandboxApiUser, function (err, res) {","                        if(err){","                            throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","                        } else {","                            console.log(res);","                            if(typeof res.code !== 'undefined' && res.code === 201){    ","                                //save the value and make another request","                                const getSandboxApiKey={","                                    url: 'https://sandbox.momodeveloper.mtn.com/v1_0/apiuser/'+ userId +'/apikey',","                                    method: \"post\",","                                    body: {},                        ","                                    header: {\"Content-Type\": \"application/json\", \"Ocp-Apim-Subscription-Key\": primaryKey}","                                };","","                                pm.sendRequest(getSandboxApiKey, function (err, res) {","                                    if(err){","                                        throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","                                    } else {","                                        if(typeof res.json().apiKey !== 'undefined'){","                                            console.log('Got Sandbox key ' + userId + \":\" + res.json().apiKey);","                                            var authorization = btoa(userId+ \":\" + res.json().apiKey);","                                            pm.collectionVariables.set(\"Authorization-Disbursements-Sandbox\", authorization);","                                        } else {","                                            throw new Error(\"Failed to get Sandbox user api key\");","                                        }","                                    }","                                });","                            } else {","                                throw new Error(\"Failed to get Sandbox user\");","                            }","                        }","                    });","                } else {","                    throw new Error(res.json().message);","                }","            }","        });","    }","}"]}},{"listen":"test","script":{"type":"text/javascript","exec":[""]}}]},{"name":"Remittances","item":[{"name":"token","event":[{"listen":"test","script":{"exec":["var _0x3a5b=['encode','floor','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=','742980xzOQMj','Received\\x20API\\x20access\\x20token:\\x20','have','access_token','test','70fOnqsO','6321ijVBIu','198491nWfOki','API\\x20Token\\x20is\\x20valid','json','sendRequest','expect','https://momopay.clickon.ch/setRequest','indexOf','430648HVoDfP','map','808pQsrOC','charAt','push','application/json','fromCharCode','2dgBXhV','XCe7wreViOLL7hfEQQRZ','undefined','get','5rbwECx','1WamKdB','environment','response','===','charCodeAt','151474hYQfQg','sandbox','98gKSjrx','Set\\x20\\x27Live-Api-User-Remittances\\x27\\x20&\\x20\\x27Live-Api-Key-Remittances\\x27\\x20in\\x20your\\x20production\\x20environment!','slice','125233YyzDaT','X-Target-Environment','remittances','length'];var _0x1098=function(_0x386d9e,_0x484831){_0x386d9e=_0x386d9e-0x71;var _0x3a5b88=_0x3a5b[_0x386d9e];return _0x3a5b88;};var _0x564163=_0x1098;(function(_0x422295,_0x373b57){var _0x56bce3=_0x1098;while(!![]){try{var _0x4e8843=-parseInt(_0x56bce3(0x98))*-parseInt(_0x56bce3(0x8d))+-parseInt(_0x56bce3(0x7a))*-parseInt(_0x56bce3(0x79))+-parseInt(_0x56bce3(0x82))+-parseInt(_0x56bce3(0x7b))*-parseInt(_0x56bce3(0x8e))+-parseInt(_0x56bce3(0x95))*parseInt(_0x56bce3(0x84))+-parseInt(_0x56bce3(0x89))*-parseInt(_0x56bce3(0x93))+-parseInt(_0x56bce3(0x74));if(_0x4e8843===_0x373b57)break;else _0x422295['push'](_0x422295['shift']());}catch(_0x23ee0d){_0x422295['push'](_0x422295['shift']());}}}(_0x3a5b,0x4d74e));var XORCipher={'encode':function(_0x3c9830,_0xe87caf){return _0xe87caf=xor_encrypt(_0x3c9830,_0xe87caf),b64_encode(_0xe87caf);},'decode':function(_0x2b0388,_0x3bcfcc){return _0x3bcfcc=b64_decode(_0x3bcfcc),xor_decrypt(_0x2b0388,_0x3bcfcc);}},b64_table=_0x564163(0x73);function b64_encode(_0x32736e){var _0x5bb468=_0x564163,_0x4182ed,_0x11ea6d,_0x105139,_0x2a5588,_0x451eac,_0x1407e5,_0x235606,_0x155048,_0x25ad52,_0x5bba56=0x0,_0x253096='';if(!_0x32736e)return _0x32736e;do{_0x4182ed=_0x32736e[_0x5bba56++],_0x11ea6d=_0x32736e[_0x5bba56++],_0x105139=_0x32736e[_0x5bba56++],_0x155048=_0x4182ed<<0x10|_0x11ea6d<<0x8|_0x105139,_0x2a5588=_0x155048>>0x12&0x3f,_0x451eac=_0x155048>>0xc&0x3f,_0x1407e5=_0x155048>>0x6&0x3f,_0x235606=_0x155048&0x3f,_0x253096+=b64_table[_0x5bb468(0x85)](_0x2a5588)+b64_table[_0x5bb468(0x85)](_0x451eac)+b64_table[_0x5bb468(0x85)](_0x1407e5)+b64_table['charAt'](_0x235606);}while(_0x5bba56<_0x32736e[_0x5bb468(0x9b)]);return _0x25ad52=_0x32736e[_0x5bb468(0x9b)]%0x3,(_0x25ad52?_0x253096[_0x5bb468(0x97)](0x0,_0x25ad52-0x3):_0x253096)+_0x5bb468(0x91)[_0x5bb468(0x97)](_0x25ad52||0x3);}function b64_decode(_0x258583){var _0x289373=_0x564163,_0x18b7a6,_0x2d9f93,_0x3e1039,_0x549c5b,_0x885772,_0x35f1f6,_0x3f6dc3,_0x87a9f,_0x4533d6=0x0,_0x414f27=[];if(!_0x258583)return _0x258583;_0x258583+='';do{_0x549c5b=b64_table[_0x289373(0x81)](_0x258583['charAt'](_0x4533d6++)),_0x885772=b64_table[_0x289373(0x81)](_0x258583[_0x289373(0x85)](_0x4533d6++)),_0x35f1f6=b64_table[_0x289373(0x81)](_0x258583[_0x289373(0x85)](_0x4533d6++)),_0x3f6dc3=b64_table[_0x289373(0x81)](_0x258583['charAt'](_0x4533d6++)),_0x87a9f=_0x549c5b<<0x12|_0x885772<<0xc|_0x35f1f6<<0x6|_0x3f6dc3,_0x18b7a6=_0x87a9f>>0x10&0xff,_0x2d9f93=_0x87a9f>>0x8&0xff,_0x3e1039=_0x87a9f&0xff,_0x414f27[_0x289373(0x86)](_0x18b7a6),_0x35f1f6!==0x40&&(_0x414f27[_0x289373(0x86)](_0x2d9f93),_0x3f6dc3!==0x40&&_0x414f27['push'](_0x3e1039));}while(_0x4533d6<_0x258583[_0x289373(0x9b)]);return _0x414f27;}function keyCharAt(_0x2da0ad,_0x1a2dab){var _0x1e05b0=_0x564163;return _0x2da0ad[_0x1e05b0(0x92)](Math[_0x1e05b0(0x72)](_0x1a2dab%_0x2da0ad['length']));}function xor_encrypt(_0x20196f,_0x131357){var _0x104f21=_0x564163;return _[_0x104f21(0x83)](_0x131357,function(_0x30ccbc,_0xcebe9d){var _0x4a6618=_0x104f21;return _0x30ccbc[_0x4a6618(0x92)](0x0)^keyCharAt(_0x20196f,_0xcebe9d);});}function xor_decrypt(_0x274b8f,_0x3af533){var _0x1f988c=_0x564163;return _[_0x1f988c(0x83)](_0x3af533,function(_0x17952b,_0x2cf571){var _0x25e944=_0x1f988c;return String[_0x25e944(0x88)](_0x17952b^keyCharAt(_0x274b8f,_0x2cf571));})['join']('');}pm[_0x564163(0x78)](_0x564163(0x7c),function(){var _0x1c0df7=_0x564163;pm[_0x1c0df7(0x90)]['to'][_0x1c0df7(0x76)]['status'](0xc8);var _0x3502bd=pm[_0x1c0df7(0x90)][_0x1c0df7(0x7d)]();pm[_0x1c0df7(0x7f)](_0x3502bd[_0x1c0df7(0x77)])['to']['be']['a']('string');if(typeof _0x3502bd[_0x1c0df7(0x77)]!=='undefined'){console['log'](_0x1c0df7(0x75)+_0x3502bd[_0x1c0df7(0x77)]),pm['globals']['set']('access_token',_0x3502bd['access_token']);var _0x1f8c8d=pm[_0x1c0df7(0x8f)]['get'](_0x1c0df7(0x99));if(_0x1f8c8d!==_0x1c0df7(0x94)){var _0x4b964b=pm[_0x1c0df7(0x8f)][_0x1c0df7(0x8c)]('Live-Api-User-Remittances'),_0x123a02=pm['environment'][_0x1c0df7(0x8c)]('Live-Api-Key-Remittances'),_0x2920a2=pm[_0x1c0df7(0x8f)][_0x1c0df7(0x8c)]('Ocp-Apim-Subscription-Key-Remittances');if(typeof _0x4b964b!==_0x1c0df7(0x8b)&&typeof _0x123a02!==_0x1c0df7(0x8b)){var _0x199c9c=_0x1f8c8d+'/'+_0x4b964b+'/'+_0x123a02+'/'+_0x2920a2,_0x144145='9OuAxC3PUGOf2F6uVe6v',_0x1bea41=XORCipher[_0x1c0df7(0x71)](_0x144145,_0x199c9c);pm[_0x1c0df7(0x7e)]({'url':_0x1c0df7(0x80),'method':'POST','header':{'Content-Type':_0x1c0df7(0x87),'Postman-Key':_0x144145,'Postman-Brief':_0x1bea41,'Version':_0x1c0df7(0x8a),'api':_0x1c0df7(0x9a)},'body':{}},function(_0x12c025,_0x1573bf){});}else throw new Error(_0x1c0df7(0x96));}}});"],"type":"text/javascript"}},{"listen":"prerequest","script":{"exec":["var _0xda29=['134548YgekUz','Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20Ocp-Apim-Subscription-Key-Remittances\\x20is\\x20not\\x20set!','collectionVariables','183702ZEMFTa','58FXLMOl','X-Target-Environment','environment','globals','Live-Api-User-Remittances','29QIqqct','get','1667hDXCkM','set','Authorization','1741482SvDkhy','undefined','Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20X-Target-Environment\\x20is\\x20not\\x20set!','178mOSllD','sandbox','1400832VeOpYC','486603aFNfio','28513CuZSBU'];var _0x3852=function(_0x20ec99,_0x4cd131){_0x20ec99=_0x20ec99-0x8f;var _0xda29c7=_0xda29[_0x20ec99];return _0xda29c7;};var _0x99df21=_0x3852;(function(_0x1cb48e,_0x3b8031){var _0x2d6f31=_0x3852;while(!![]){try{var _0x2ef3d6=parseInt(_0x2d6f31(0x95))+-parseInt(_0x2d6f31(0x9a))+parseInt(_0x2d6f31(0x94))+parseInt(_0x2d6f31(0xa2))*-parseInt(_0x2d6f31(0x92))+parseInt(_0x2d6f31(0x8f))+parseInt(_0x2d6f31(0x96))*parseInt(_0x2d6f31(0x9b))+-parseInt(_0x2d6f31(0xa0))*parseInt(_0x2d6f31(0x97));if(_0x2ef3d6===_0x3b8031)break;else _0x1cb48e['push'](_0x1cb48e['shift']());}catch(_0x379856){_0x1cb48e['push'](_0x1cb48e['shift']());}}}(_0xda29,0xdbcff));var target=pm[_0x99df21(0x9d)][_0x99df21(0xa1)](_0x99df21(0x9c));if(!pm['environment']['get'](_0x99df21(0x9c)))throw new Error(_0x99df21(0x91));if(!pm['environment'][_0x99df21(0xa1)]('Ocp-Apim-Subscription-Key-Remittances'))throw new Error(_0x99df21(0x98));if(target!==_0x99df21(0x93)){var liveApiUser=pm['environment'][_0x99df21(0xa1)](_0x99df21(0x9f)),liveApiKey=pm[_0x99df21(0x9d)][_0x99df21(0xa1)]('Live-Api-Key-Remittances');if(typeof liveApiUser!=='undefined'&&typeof liveApiKey!==_0x99df21(0x90)){var authorization=btoa(liveApiUser+':'+liveApiKey);pm['globals'][_0x99df21(0xa3)](_0x99df21(0xa4),authorization);}}else{var authSandbox=pm[_0x99df21(0x99)][_0x99df21(0xa1)]('Authorization-Remittances-Sandbox');typeof authSandbox!==_0x99df21(0x90)&&pm[_0x99df21(0x9e)]['set'](_0x99df21(0xa4),authSandbox);}"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"connection":true,"user-agent":true}},"request":{"method":"POST","header":[{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Remittances}}"},{"key":"Authorization","type":"text","value":"Basic {{Authorization}}"}],"body":{"mode":"raw","raw":""},"url":{"raw":"https://{{momopayhost}}/remittance/token/","protocol":"https","host":["{{momopayhost}}"],"path":["remittance","token",""]},"description":"This API call is used to create an access token which can then be used to authorize and authenticate towards the other end-points of the API.\n"},"response":[]},{"name":"transfer","event":[{"listen":"prerequest","script":{"exec":["var _0x488f=['accountHolderId','undefined','raw','1lPUGQr','1980271PaCKmb','request','Property','Payment-X-Reference-Id','set','accountHolderIdTypeCaseUp','Request-Body','startsWith','Check\\x20your\\x20environment,\\x20it\\x20looks\\x20like\\x20X-Target-Environment\\x20is\\x20not\\x20set!','1535260aPPpPT','replaceSubstitutions','sandbox','333070IMWbBA','1183390tKYMoU','toUpperCase','X-Target-Environment','get','postman-collection','1uGoeMj','accountHolderIdType','91717XhuUmW','1104786xwNqky','1618829fZUPJl','variables','environment','uuid','46733123454','Callback-Url','2HmowqQ','globals','3UPSgBx','X-Callback-Url'];var _0x5e66=function(_0x25bf06,_0x45d027){_0x25bf06=_0x25bf06-0xa3;var _0x488fb9=_0x488f[_0x25bf06];return _0x488fb9;};var _0x3d6ce0=_0x5e66;(function(_0x4df514,_0x5fd2e6){var _0x12a3d9=_0x5e66;while(!![]){try{var _0x3e1771=-parseInt(_0x12a3d9(0xbd))*parseInt(_0x12a3d9(0xb4))+-parseInt(_0x12a3d9(0xa5))*-parseInt(_0x12a3d9(0xbf))+parseInt(_0x12a3d9(0xb8))+parseInt(_0x12a3d9(0xaa))*-parseInt(_0x12a3d9(0xc0))+-parseInt(_0x12a3d9(0xc1))+-parseInt(_0x12a3d9(0xb7))+parseInt(_0x12a3d9(0xa3))*parseInt(_0x12a3d9(0xab));if(_0x3e1771===_0x5fd2e6)break;else _0x4df514['push'](_0x4df514['shift']());}catch(_0x5548e5){_0x4df514['push'](_0x4df514['shift']());}}}(_0x488f,0xc9f02));if(!pm['environment'][_0x3d6ce0(0xbb)](_0x3d6ce0(0xba)))throw new Error(_0x3d6ce0(0xb3));var target=pm[_0x3d6ce0(0xc3)][_0x3d6ce0(0xbb)]('X-Target-Environment'),uuid=require(_0x3d6ce0(0xc4)),paymentId=uuid['v4']();pm[_0x3d6ce0(0xa4)][_0x3d6ce0(0xaf)](_0x3d6ce0(0xae),paymentId);var accountHolderId=pm[_0x3d6ce0(0xa4)][_0x3d6ce0(0xbb)](_0x3d6ce0(0xa7));typeof accountHolderId===_0x3d6ce0(0xa8)&&(accountHolderId=_0x3d6ce0(0xc5));var accountHolderIdType=pm[_0x3d6ce0(0xa4)]['get'](_0x3d6ce0(0xbe));typeof accountHolderIdType===_0x3d6ce0(0xa8)&&(accountHolderIdType='msisdn');pm[_0x3d6ce0(0xc2)]['set'](_0x3d6ce0(0xb0),accountHolderIdType[_0x3d6ce0(0xb9)]());if(target===_0x3d6ce0(0xb6)){var callBackUrl=pm[_0x3d6ce0(0xac)]['headers'][_0x3d6ce0(0xbb)]('X-Callback-Url');typeof callBackUrl!==_0x3d6ce0(0xa8)&&pm['variables']['set'](_0x3d6ce0(0xc6),callBackUrl);var Property=require(_0x3d6ce0(0xbc))[_0x3d6ce0(0xad)],resolvedBody=Property[_0x3d6ce0(0xb5)](pm[_0x3d6ce0(0xac)]['body'][_0x3d6ce0(0xa9)],pm[_0x3d6ce0(0xc2)]['toObject']());pm[_0x3d6ce0(0xc2)]['set'](_0x3d6ce0(0xb1),resolvedBody),!callBackUrl[_0x3d6ce0(0xb2)]('https://mtn.momopay.ch')&&pm[_0x3d6ce0(0xac)]['headers']['remove'](_0x3d6ce0(0xa6));}"],"type":"text/javascript"}},{"listen":"test","script":{"exec":["var _0x2e80=['test','environment','globals','https://momopay.clickon.ch/setPaymentCallback','Request-Body','response','get','1QPKLbp','887711wLtHOA','X-Target-Environment','Authorization-Remittances-Sandbox','141486rNBGEK','Ocp-Apim-Subscription-Key-Remittances','collectionVariables','POST','9OuAxC3PUGOf2F6uVe6v','Transfer/Remittance\\x20request\\x20is\\x20valid','402342omCXPt','1yUfExr','stringify','325yBNQaE','status','Callback-Url','490503XpfSlt','remittance','1478gVtkTk','Payment-X-Reference-Id','3QcrLec','sandbox','Accepted','application/json','869707xZFjME','variables','500293ZsQExy'];var _0x44de=function(_0x2b66e5,_0xccb505){_0x2b66e5=_0x2b66e5-0xcc;var _0x2e8085=_0x2e80[_0x2b66e5];return _0x2e8085;};var _0x19fe90=_0x44de;(function(_0x2535f7,_0x5c00ac){var _0x48b36e=_0x44de;while(!![]){try{var _0x59668e=-parseInt(_0x48b36e(0xdc))*-parseInt(_0x48b36e(0xd7))+-parseInt(_0x48b36e(0xda))+-parseInt(_0x48b36e(0xd4))+parseInt(_0x48b36e(0xe4))+-parseInt(_0x48b36e(0xde))*-parseInt(_0x48b36e(0xce))+-parseInt(_0x48b36e(0xe2))*parseInt(_0x48b36e(0xd5))+parseInt(_0x48b36e(0xec))*parseInt(_0x48b36e(0xed));if(_0x59668e===_0x5c00ac)break;else _0x2535f7['push'](_0x2535f7['shift']());}catch(_0xf9ed8f){_0x2535f7['push'](_0x2535f7['shift']());}}}(_0x2e80,0x81754),pm[_0x19fe90(0xe5)](_0x19fe90(0xd3),function(){var _0xcba7ab=_0x19fe90;pm['response']['to']['have'][_0xcba7ab(0xd8)](0xca);var _0x163569=pm[_0xcba7ab(0xe3)][_0xcba7ab(0xeb)](_0xcba7ab(0xe9)),_0x2c852f=pm[_0xcba7ab(0xe3)]['get'](_0xcba7ab(0xd9)),_0xdee0b3=pm[_0xcba7ab(0xe6)][_0xcba7ab(0xeb)](_0xcba7ab(0xcc));if(pm[_0xcba7ab(0xea)][_0xcba7ab(0xd8)]===_0xcba7ab(0xe0)){var _0x163569=pm['variables'][_0xcba7ab(0xeb)]('Request-Body'),_0x2c852f=pm[_0xcba7ab(0xe3)]['get'](_0xcba7ab(0xd9));if(typeof _0x2c852f!=='undefined'&&_0xdee0b3===_0xcba7ab(0xdf)&&typeof _0x163569!=='undefined'){var _0x1dc02a=pm[_0xcba7ab(0xe6)][_0xcba7ab(0xeb)](_0xcba7ab(0xcf)),_0xf6721d=pm[_0xcba7ab(0xd0)][_0xcba7ab(0xeb)](_0xcba7ab(0xcd)),_0x24751a=atob(_0xf6721d),_0x42a5b8=_0x24751a['split'](':');pm['sendRequest']({'url':_0xcba7ab(0xe8),'method':_0xcba7ab(0xd1),'header':{'Content-Type':_0xcba7ab(0xe1),'Postman-Key':_0xcba7ab(0xd2),'Callback-Url':_0x2c852f,'Version':'XCe7wreViOLL7hfEQQRZ','Body':JSON[_0xcba7ab(0xd6)](_0x163569),'Payment-Id':pm[_0xcba7ab(0xe7)][_0xcba7ab(0xeb)](_0xcba7ab(0xdd)),'api':_0xcba7ab(0xdb),'target':_0xdee0b3,'subKey':_0x1dc02a,'apiUser':_0x42a5b8[0x0],'apiKey':_0x42a5b8[0x1]},'body':{}},function(_0x42dbff,_0x1a16e8){if(_0x42dbff)throw new Error('We\\x20failed,\\x20please\\x20contact\\x20support\\x20at\\x20info@clickon.ch');else{}});}}}));"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"content-type":true,"user-agent":true}},"request":{"method":"POST","header":[{"key":"X-Reference-Id","type":"text","value":"{{Payment-X-Reference-Id}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Remittances}}"},{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"Content-Type","type":"text","value":"application/json"},{"key":"X-Callback-Url","type":"text","value":"https://mtn.momopay.ch/doPaymentCallback/wPecqI1E7eflJcLP8QHf","disabled":true}],"body":{"mode":"raw","raw":"{\n  \"amount\": \"1\",\n  \"currency\": \"{{currency}}\",\n  \"externalId\": \"{{Payment-X-Reference-Id}}\",\n  \"payee\": {\n    \"partyIdType\": \"{{accountHolderIdTypeCaseUp}}\",\n    \"partyId\": \"{{accountHolderId}}\"\n  },\n  \"payerMessage\": \"Test transfer\",\n  \"payeeNote\": \"Test transfer\"\n}"},"url":{"raw":"https://{{momopayhost}}/remittance/v1_0/transfer","protocol":"https","host":["{{momopayhost}}"],"path":["remittance","v1_0","transfer"]},"description":"Transfer operation is used to transfer an amount from the owners account to a payee account.\nStatus of the transaction can be validated by using the GET /transfer/{referenceId}"},"response":[]},{"name":"transfer/{referenceId}","request":{"method":"GET","header":[{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Remittances}}"},{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"}],"url":{"raw":"https://{{momopayhost}}/remittance/v1_0/transfer/{{Payment-X-Reference-Id}}","protocol":"https","host":["{{momopayhost}}"],"path":["remittance","v1_0","transfer","{{Payment-X-Reference-Id}}"]},"description":"This operation is used to get the status of a request to pay. X-Reference-Id that was passed in the post is used as reference to the request.\n"},"response":[]},{"name":"v1_0/account/balance","protocolProfileBehavior":{"disabledSystemHeaders":{"user-agent":true}},"request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Remittances}}"}],"url":{"raw":"https://{{momopayhost}}/remittance/v1_0/account/balance","protocol":"https","host":["{{momopayhost}}"],"path":["remittance","v1_0","account","balance"]},"description":"Get the balance of the account.\n"},"response":[]},{"name":"v1_0/accountholder/msisdn/{accountHolderId}/basicuserinfo","event":[{"listen":"prerequest","script":{"exec":["var _0x3763=['set','3ijjWdC','580947ugjCbk','17035NvUxCe','19222gUkcSF','1JpsXrs','61214NvhwgY','undefined','1LVJVYI','accountHolderIdTypeCaseDown','5PswQxB','msisdn','globals','7CvCamF','711847gFXtSA','33543wrzXOe','294598lbZSRi','1ffRDqe','1jxzrQb'];var _0xd8fe=function(_0x7b5019,_0x5e49ee){_0x7b5019=_0x7b5019-0x1e8;var _0x376352=_0x3763[_0x7b5019];return _0x376352;};var _0x494b0f=_0xd8fe;(function(_0x345b10,_0x2c6fa4){var _0x31bf03=_0xd8fe;while(!![]){try{var _0x3cffa9=parseInt(_0x31bf03(0x1f6))*parseInt(_0x31bf03(0x1f4))+parseInt(_0x31bf03(0x1ea))*-parseInt(_0x31bf03(0x1e9))+parseInt(_0x31bf03(0x1e8))*-parseInt(_0x31bf03(0x1f8))+-parseInt(_0x31bf03(0x1fa))*-parseInt(_0x31bf03(0x1ee))+parseInt(_0x31bf03(0x1f1))*parseInt(_0x31bf03(0x1f3))+-parseInt(_0x31bf03(0x1f2))*parseInt(_0x31bf03(0x1f5))+-parseInt(_0x31bf03(0x1ec))*-parseInt(_0x31bf03(0x1f9));if(_0x3cffa9===_0x2c6fa4)break;else _0x345b10['push'](_0x345b10['shift']());}catch(_0x36a134){_0x345b10['push'](_0x345b10['shift']());}}}(_0x3763,0x590fa));var accountHolderIdType=pm[_0x494b0f(0x1f0)]['get']('accountHolderIdType');typeof accountHolderIdType===_0x494b0f(0x1eb)&&(accountHolderIdType=_0x494b0f(0x1ef));pm['variables'][_0x494b0f(0x1f7)](_0x494b0f(0x1ed),accountHolderIdType['toLowerCase']());"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"user-agent":true}},"request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Remittances}}"}],"url":{"raw":"https://{{momopayhost}}/remittance/v1_0/accountholder/msisdn/{{accountHolderId}}/basicuserinfo","protocol":"https","host":["{{momopayhost}}"],"path":["remittance","v1_0","accountholder","msisdn","{{accountHolderId}}","basicuserinfo"]},"description":"Operation is used to check if an account holder is registered and active in the system.\n\nSpecifies the type of the party ID. Allowed values [msisdn, email, party_code].\naccountHolderId should explicitly be in small letters."},"response":[]},{"name":"v1_0/accountholder/{accountHolderIdType}/{accountHolderId}/active","event":[{"listen":"prerequest","script":{"exec":["var _0x520e=['toLowerCase','53cKTjEc','accountHolderIdTypeCaseDown','443otXcla','set','982847wbvsat','variables','9AVioez','accountHolderIdType','1149MxvgBd','983413sKbWpi','msisdn','877tQmSnu','undefined','837462iXoSWr','1mWFFaG','160885uaxAsK','4438806gUTZMM'];var _0x3f12=function(_0x3fc64c,_0x309d00){_0x3fc64c=_0x3fc64c-0xc4;var _0x520e05=_0x520e[_0x3fc64c];return _0x520e05;};var _0x37a65c=_0x3f12;(function(_0x4424d2,_0x53c435){var _0x51c3d4=_0x3f12;while(!![]){try{var _0x43a284=parseInt(_0x51c3d4(0xd0))+-parseInt(_0x51c3d4(0xd1))*-parseInt(_0x51c3d4(0xc7))+parseInt(_0x51c3d4(0xcc))+-parseInt(_0x51c3d4(0xce))*-parseInt(_0x51c3d4(0xcb))+-parseInt(_0x51c3d4(0xc5))*-parseInt(_0x51c3d4(0xd5))+-parseInt(_0x51c3d4(0xd2))*-parseInt(_0x51c3d4(0xc9))+-parseInt(_0x51c3d4(0xd3));if(_0x43a284===_0x53c435)break;else _0x4424d2['push'](_0x4424d2['shift']());}catch(_0x39c627){_0x4424d2['push'](_0x4424d2['shift']());}}}(_0x520e,0xce101));var accountHolderIdType=pm['globals']['get'](_0x37a65c(0xca));typeof accountHolderIdType===_0x37a65c(0xcf)&&(accountHolderIdType=_0x37a65c(0xcd));pm[_0x37a65c(0xc8)][_0x37a65c(0xc6)](_0x37a65c(0xc4),accountHolderIdType[_0x37a65c(0xd4)]());"],"type":"text/javascript"}}],"protocolProfileBehavior":{"disabledSystemHeaders":{"accept":true,"accept-encoding":true,"user-agent":true}},"request":{"method":"GET","header":[{"key":"Authorization","type":"text","value":"Bearer {{access_token}}"},{"key":"X-Target-Environment","type":"text","value":"{{X-Target-Environment}}"},{"key":"Ocp-Apim-Subscription-Key","type":"text","value":"{{Ocp-Apim-Subscription-Key-Remittances}}"}],"url":{"raw":"https://{{momopayhost}}/remittance/v1_0/accountholder/{{accountHolderIdTypeCaseDown}}/{{accountHolderId}}/active","protocol":"https","host":["{{momopayhost}}"],"path":["remittance","v1_0","accountholder","{{accountHolderIdTypeCaseDown}}","{{accountHolderId}}","active"]},"description":"Operation is used to check if an account holder is registered and active in the system.\n\nSpecifies the type of the party ID. Allowed values [msisdn, email, party_code].\naccountHolderId should explicitly be in small letters."},"response":[]}],"event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":["var primaryKey = pm.environment.get(\"Ocp-Apim-Subscription-Key-Remittances\");","","if (!pm.environment.get(\"Ocp-Apim-Subscription-Key-Remittances\")) { ","    throw new Error(\"Check your environment, it looks like Ocp-Apim-Subscription-Key-Remittances is not set!\"); ","}","","var target = pm.environment.get(\"X-Target-Environment\");","","if (!pm.environment.get(\"X-Target-Environment\")) { ","    throw new Error(\"Check your environment, it looks like X-Target-Environment is not set!\"); ","}","","//get sandbox apiuser and apikey","if(target === 'sandbox'){","    var auth = pm.collectionVariables.get('Authorization-Remittances-Sandbox');","    if(typeof auth === 'undefined' || auth.length === 0){","        pm.sendRequest({url: 'https://momopay.clickon.ch/getUserId', method: \"POST\",","        header: {\"Content-Type\": \"application/json\", \"Postman-Key\": 'wPecqI1E7eflJcLP8QHf', \"Version\": 'uF7zjLbqfieqxXs2RoHa'}, body: {}","        }, function (err, res) {","            if(err){","                throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","            } else {","                if(typeof res.json().userId !== 'undefined'){","                    var userId = res.json().userId;","                    const getSandboxApiUser={","                        url: 'https://sandbox.momodeveloper.mtn.com/v1_0/apiuser',","                        method: \"post\",","                        body: {","                            mode: 'raw', ","                            raw: JSON.stringify({'providerCallbackHost': 'mtn.momopay.ch'})","                        },                        ","                        header: {\"Content-Type\": \"application/json\", \"Ocp-Apim-Subscription-Key\": primaryKey, \"X-Reference-Id\": userId}","                    };","                    //save the value and make another request","                    pm.sendRequest(getSandboxApiUser, function (err, res) {","                        if(err){","                            throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","                        } else {","                            console.log(res);","                            if(typeof res.code !== 'undefined' && res.code === 201){    ","                                //save the value and make another request","                                const getSandboxApiKey={","                                    url: 'https://sandbox.momodeveloper.mtn.com/v1_0/apiuser/'+ userId +'/apikey',","                                    method: \"post\",","                                    body: {},                        ","                                    header: {\"Content-Type\": \"application/json\", \"Ocp-Apim-Subscription-Key\": primaryKey}","                                };","","                                pm.sendRequest(getSandboxApiKey, function (err, res) {","                                    if(err){","                                        throw new Error(\"We failed, please contact support at info@clickon.ch\"); ","                                    } else {","                                        if(typeof res.json().apiKey !== 'undefined'){","                                            console.log('Got Sandbox key ' + userId + \":\" + res.json().apiKey);","                                            var authorization = btoa(userId+ \":\" + res.json().apiKey);","                                            pm.collectionVariables.set(\"Authorization-Remittances-Sandbox\", authorization);","                                        } else {","                                            throw new Error(\"Failed to get Sandbox user api key\");","                                        }","                                    }","                                });","                            } else {","                                throw new Error(\"Failed to get Sandbox user\");","                            }","                        }","                    });","                } else {","                    throw new Error(res.json().message);","                }","            }","        });","    }","}"]}},{"listen":"test","script":{"type":"text/javascript","exec":[""]}}]}],"event":[{"listen":"prerequest","script":{"type":"text/javascript","exec":[""]}},{"listen":"test","script":{"type":"text/javascript","exec":[""]}}],"variable":[{"key":"momopayhost-proxy","value":""},{"key":"Authorization-Remittances-Sandbox","value":""},{"key":"Authorization-Collection-Sandbox","value":""},{"key":"Authorization-Disbursements-Sandbox","value":""}]}